<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Countdown</title>
  <meta name="description" content="Countdown">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=0" />
  <link href="https://erichsia7.github.io/countdown/pwaicon/512x512.png" sizes="512x512" rel="apple-touch-icon-precomposed" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="defualt" />
  <link type="image/x-icon" href="https://erichsia7.github.io/countdown/pwaicon/256x256_corner_radius.ico" rel="icon" />
  <link type="image/x-icon" href="https://erichsia7.github.io/countdown/pwaicon/256x256_corner_radius.ico" rel="bookmark" />
  <link type="image/x-icon" href="https://erichsia7.github.io/countdown/pwaicon/256x256_corner_radius.ico" rel="shortcut icon" />
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff" kji="light">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#0d0d0d" kji="dark">
  <link rel="manifest" href="https://erichsia7.github.io/countdown/manifest.json">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@200;400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --d-ffffff: #ffffff;
      --d-e3e3e3: #e3e3e3;
      --d-333333: #333333;
      --d-fafafa: #fafafa;
      --d-f4f4f4: #f4f4f4;
      --d-888888: #888888;
      --d-e3e3e3-r: 227;
      --d-e3e3e3-g: 227;
      --d-e3e3e3-b: 227;
      --d-options-r: 250;
      --d-options-g: 250;
      --d-options-b: 250;
      --e-skeleton-screen-light-color: #f2f2f2;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --d-ffffff: #0d0d0d;
        --d-e3e3e3: #1a1a1a;
        --d-333333: #ffffff;
        --d-fafafa: #141414;
        --d-f4f4f4: #1a1a1a;
        --d-888888: #888888;
        --d-e3e3e3-r: 26;
        --d-e3e3e3-g: 26;
        --d-e3e3e3-b: 26;
        --d-options-r: 26;
        --d-options-g: 26;
        --d-options-b: 26;
        --e-skeleton-screen-light-color: #262626;
      }
    }

    * {
      -webkit-appearance: none;
      appearance: none;
      outline: none;
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
      font-family: 'Noto Sans', sans-serif;
    }

    body {
      background: var(--d-ffffff)
    }

    .title,
    .countdown_title,
    .add_countdown_title,
    .edit_countdown_title,
    .options_content_box_title {
      position: fixed;
      top: 0px;
      left: 0px;
      width: 100%;
      height: 55px;
      background: var(--d-ffffff);
      border-bottom: 1px solid var(--d-e3e3e3);
      box-sizing: border-box;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 20px;
      font-weight: 200;
      color: var(--d-333333);
      -webkit-user-select: none;
      user-select: none;
    }

    .countdown_title,
    .add_countdown_title,
    .edit_countdown_title,
    .options_content_box_title {
      display: none;
    }

    .content_box,
    .countdown_content_box,
    .add_countdown_content_box,
    .edit_countdown_content_box,
    .search_countdown_content_box,
    .options_content_box {
      position: fixed;
      top: 55px;
      left: 0px;
      width: 100%;
      height: calc(100% - 55px);
      background: var(--d-ffffff);
      overflow: scroll;
      -webkit-user-select: none;
      user-select: none;
    }

    .countdown_content_box,
    .add_countdown_content_box,
    .edit_countdown_content_box,
    .search_countdown_content_box,
    .options_content_box {
      display: none;
    }

    .search_countdown_content_box {
      overflow: hidden;
    }

    .countdown_content_box_count_finish {
      font-size: 25px;
      font-weight: 700;
    }

    .addcountdown {
      position: fixed;
      bottom: 20px;
      right: 20px;
      border-radius: 99em;
      background: var(--d-e3e3e3);
      width: 55px;
      height: 55px;
      box-shadow: 0 0 15px 2px rgba(0, 0, 0, 0.08);
      -webkit-user-select: none;
      user-select: none;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .recent_access_content_box {
      position: relative;
      width: 100%;
      height: 200px;
      overflow-y: hidden;
      overflow-x: scroll;
      white-space: nowrap;
    }

    .recent_access_content_box::-webkit-scrollbar {
      display: none;
    }

    .recent_access_content_box .recent_access_countdown_box {
      width: clamp(200px, calc(33% - 20px), 300px);
      height: 180px;
      display: inline-block;
      background: var(--d-ffffff);
      position: relative;
      -webkit-user-select: none;
      user-select: none;
      overflow: hidden;
      border-radius: 15px;
      margin: 10px;
      margin-right: 0px;
      box-sizing: border-box;
      border: 1px solid var(--d-f4f4f4);
      box-shadow: 0px 0px 12px -8px rgba(0, 0, 0, 0.15);
    }

    .recent_access_content_box .recent_access_countdown_box:nth-last-child(1) {
      margin-right: 10px;
    }

    .recent_access_countdown_box .recent_access_countdown_box_count {
      position: absolute;
      top: 5px;
      left: 5px;
      width: calc(100% - 10px);
      height: 90px;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 23px;
      font-weight: 700;
      color: var(--d-333333);
      -webkit-user-select: none;
      user-select: none;
    }

    .recent_access_countdown_box .recent_access_countdown_box_title {
      position: absolute;
      top: 95px;
      left: 5px;
      width: calc(100% - 10px);
      height: 35px;
      overflow: hidden;
      display: flex;
      align-items: center;
      font-size: 16px;
      font-weight: 500;
      color: var(--d-333333);
      padding: 3px;
      box-sizing: border-box;
      word-break: keep-all;
      white-space: nowrap;
      -webkit-user-select: none;
      user-select: none;
    }

    .recent_access_countdown_box .recent_access_countdown_box_description {
      position: absolute;
      top: 130px;
      left: 5px;
      width: calc(100% - 10px);
      height: 45px;
      overflow: hidden;
      padding: 3px;
      box-sizing: border-box;
      word-break: break-all;
      white-space: pre-line;
      color: var(--d-333333);
      font-weight: 400;
      font-size: 16px;
      -webkit-user-select: none;
      user-select: none;
    }

    .recent_access_countdown_box.loading .recent_access_countdown_box_count::after,
    .recent_access_countdown_box.loading .recent_access_countdown_box_title::after,
    .recent_access_countdown_box.loading .recent_access_countdown_box_description::after {
      content: '';
      background: var(--d-fafafa);
      position: absolute;
      border-radius: 9px;
    }

    .recent_access_countdown_box.loading .recent_access_countdown_box_count::after {
      top: 2.5px;
      left: 2.5px;
      width: calc(100% - 5px);
      height: calc(100% - 5px);
    }

    .recent_access_countdown_box.loading .recent_access_countdown_box_title::after {
      top: 2px;
      left: 2.5px;
      width: calc(100% - 5px);
      height: calc(100% - 7px);
    }

    .recent_access_countdown_box.loading .recent_access_countdown_box_description::after {
      top: 0px;
      left: 2.5px;
      width: calc(100% - 5px);
      height: calc(100% - 3px);
    }

    .countdown_box {
      width: calc(100% - 20px);
      height: 100px;
      background: var(--d-ffffff);
      position: relative;
      -webkit-user-select: none;
      user-select: none;
      overflow: hidden;
      border-radius: 15px;
      margin: 10px;
      box-sizing: border-box;
      border: 1px solid var(--d-f4f4f4);
      box-shadow: 0px 0px 12px -8px rgba(0, 0, 0, 0.15);
    }

    .countdown_box:nth-last-child(1) {
      margin-bottom: 20px
    }

    .countdown_box_select {
      position: absolute;
      top: 0px;
      left: 0px;
      width: 44px;
      height: 100px;
      display: none;
      justify-content: center;
      align-items: center;
      background: var(--d-ffffff);
      box-sizing: border-box;
      font-size: 23px;
      color: var(--d-333333);
      -webkit-user-select: none;
      user-select: none;
    }

    .countdown_box_select label {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      background: rgba(0, 0, 0, 0);
    }

    .countdown_box_count {
      position: absolute;
      top: 5px;
      left: 5px;
      width: 95px;
      height: 90px;
      display: flex;
      justify-content: center;
      align-items: center;
      background: var(--d-ffffff);
      border-right: 1px solid var(--d-fafafa);
      box-sizing: border-box;
      font-size: 23px;
      font-weight: 700;
      color: var(--d-333333);
      -webkit-user-select: none;
      user-select: none;
      overflow: hidden;
    }

    .countdown_box .countdown_box_count[trash="true"] {
      font-style: italic;
    }

    .countdown_box_title {
      position: absolute;
      top: 5px;
      left: 105px;
      width: calc(100% - 110px);
      height: 35px;
      display: flex;
      align-items: center;
      background: var(--d-ffffff);
      box-sizing: border-box;
      padding: 3px;
      color: var(--d-333333);
      -webkit-user-select: none;
      user-select: none;
      word-break: keep-all;
      white-space: nowrap;
      overflow: hidden;
      font-weight: 500;
      font-size: 16px;
    }

    .countdown_box_description {
      position: absolute;
      top: 40px;
      left: 105px;
      width: calc(100% - 110px);
      height: calc(100% - 45px);
      background: var(--d-ffffff);
      box-sizing: border-box;
      padding: 3px;
      color: var(--d-333333);
      -webkit-user-select: none;
      user-select: none;
      word-break: break-all;
      overflow: hidden;
      white-space: pre-line;
      font-weight: 400;
      font-size: 16px;
    }

    .countdown_box.loading {
      background: var(--d-ffffff);
    }

    .countdown_box.loading .countdown_box_count::after,
    .countdown_box.loading .countdown_box_title::after,
    .countdown_box.loading .countdown_box_description::after {
      content: '';
      background: var(--d-fafafa);
      position: absolute;
      border-radius: 9px;
    }

    .countdown_box.loading .countdown_box_count::after {
      top: 5px;
      left: 5px;
      width: calc(100% - 10px);
      height: calc(100% - 10px);
    }

    .countdown_box.loading .countdown_box_title::after {
      top: 5px;
      left: 0px;
      width: calc(100% - 5px);
      height: calc(100% - 10px);
    }

    .countdown_box.loading .countdown_box_description::after {
      top: 0px;
      left: 0px;
      width: calc(100% - 5px);
      height: calc(100% - 5px);

    }

    .content_box[edit="1"] .countdown_box .countdown_box_count,
    .content_box[edit="1"] .countdown_box .countdown_box_title,
    .content_box[edit="1"] .countdown_box .countdown_box_description {
      transform: translateX(45px);
      opacity: 0.6;
    }

    .content_box[edit="1"] .countdown_box_select {
      display: flex;
    }

    .add_countdown_content_box input[c="1"],
    .add_countdown_content_box textarea,
    .edit_countdown_content_box input[c="1"],
    .edit_countdown_content_box textarea {
      width: calc(100% - 20px);
      height: 45px;
      border: 1px solid var(--d-e3e3e3);
      border-radius: 10px;
      background: transparent;
      -webkit-appearance: none;
      appearance: none;
      color: var(--d-333333);
      font-size: 15px;
      margin-top: 10px;
      box-sizing: border-box;
      padding: 5px;
      position: relative;
      left: 50%;
      transform: translateX(-50%);
      background: transparent;
      caret-color: var(--d-333333);
    }

    .date_input_group {
      position: relative;
      left: 50%;
      transform: translateX(-50%);
      width: calc(100% - 20px);
      height: 95px;
      margin-top: 10px;
      box-sizing: border-box;
    }

    .date_input_group_date,
    .date_input_group_time {
      position: absolute;
      width: 100%;
      height: 45px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      column-gap: 5px;
    }

    .date_input_group_date {
      top: 0px;
      left: 0px;
    }

    .date_input_group_time {
      top: 50px;
      left: 0px;
    }

    .date_input_group input[type="text"] {
      -webkit-appearance: none;
      appearance: none;
      display: inline-block;
      height: 45px;
      padding: 5px;
      margin: 0px;
      box-sizing: border-box;
      font-size: 15px;
      border-radius: 10px;
      border: 1px solid var(--d-e3e3e3);
      background: transparent;
      color: var(--d-333333);
      min-width: 0px;
      caret-color: var(--d-333333);
    }

    .add_countdown_content_box textarea,
    .edit_countdown_content_box textarea {
      height: 135px;
    }

    .add_countdown_btn,
    .edit_countdown_btn {
      height: 45px;
      width: calc(100% - 20px);
      background: var(--d-e3e3e3);
      color: var(--d-333333);
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 10px;
      position: relative;
      left: 50%;
      transform: translateX(-50%);
      margin-top: 10px;
      user-select: none;
      -webkit-user-select: none;
    }


    .promptcenter {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--d-333333);
      font-size: 15px;
      font-family: "Noto Sans TC", sans-serif;
      user-select: none;
      -webkit-user-select: none;
    }

    .promptcenter * {
      color: var(--d-333333);
      font-size: 15px;
      font-family: "Noto Sans TC", sans-serif
    }

    .prompt {
      width: clamp(180px, calc(100% - 20px), 450px);
      height: 60px;
      border-radius: 10px;
      position: fixed;
      left: 50%;
      bottom: 0px;
      opacity: 0;
      transform: translateX(-50%) translateY(0px) scale(0.75);
      background: rgba(var(--d-e3e3e3-r), var(--d-e3e3e3-g), var(--d-e3e3e3-b), 0.6);
      will-change: transform, opacity;
      -webkit-user-select: none;
      user-select: none;
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
    }

    .back_btn,
    .trash_back_btn,
    .options_btn,
    .delete_btn,
    .cancel_btn,
    .search_btn {
      width: 35px;
      height: 35px;
      position: absolute;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      user-select: none;
      -webkit-user-select: none;
    }

    .back_btn,
    .trash_back_btn {
      top: 10px;
      left: 10px;
    }

    .trash_back_btn {
      display: none;
    }

    .options_btn {
      top: 10px;
      right: 10px;
    }

    .cancel_btn {
      top: 10px;
      right: 10px;
      display: none;
    }

    .delete_btn {
      top: 10px;
      right: 55px;
      display: none;
    }

    .search_btn {
      top: 10px;
      right: 55px
    }

    .search_btn[loading="1"],
    .options_btn[loading="1"] {
      opacity: 0.3;
    }

    input#search_countdown {
      color: var(--d-333333);
      caret-color: var(--d-333333);
      background: var(--d-ffffff);
      height: 45px;
      width: calc(100% - 55px);
      position: absolute;
      top: 50%;
      transform: translateY(-50%) translateX(0px);
      left: 55px;
      border: none;
      -webkit-appearance: none;
      appearance: none;
      border-radius: 0px;
      padding: 0px 10px 0px 0px;
      margin: 0px;
      font-size: 20px;
      font-weight: 400;
      box-sizing: border-box;
    }

    .search_btn[u="0"] .back_btn {
      display: none;
    }

    .search_btn[u="0"] input#search_countdown {
      display: block;
      opacity: 0;
      position: absolute;
      top: 0px;
      left: 0px;
      width: 100%;
      height: 100%;
      padding: 0px;
      margin: 0px;
      box-sizing: border-box;
      caret-color: rgba(0, 0, 0, 0);
      transform: translateX(0px) translateY(0px);
    }

    .search_btn[u="1"] {
      top: 0px;
      right: 0px;
      height: 54px;
      width: 100%;
      background: var(--d-ffffff);
      box-sizing: border-box;
      display: block;
    }

    .search_btn[u="1"] input#search_countdown {
      display: block;
    }

    .search_btn[u="1"] .back_btn {
      display: flex;
    }

    .search_btn[loading="1"] input#search_countdown {
      display: none;
    }

    .addcountdown svg,
    .back_btn svg,
    .trash_back_btn svg,
    .options_btn svg,
    .delete_btn svg,
    .cancel_btn svg,
    .search_btn[u="0"] svg#svgsearchicon {
      width: 20px;
      height: 20px
    }

    .addcountdown[loading="1"] svg {
      opacity: 0.3;
    }

    .search_btn[u="1"] svg#svgsearchicon {
      display: none;
    }

    .countdown_content_box_count {
      width: calc(100% - 20px);
      height: 250px;
      position: absolute;
      top: 10px;
      left: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: row;
      color: var(--d-333333);
      user-select: none;
      -webkit-user-select: none;
    }

    .countdown_content_box_line {
      width: calc(100% - 20px);
      height: 1px;
      background: var(--d-e3e3e3);
      position: absolute;
      top: calc(10px + 250px + 5px);
      left: 10px;
      user-select: none;
      -webkit-user-select: none;
    }

    .countdown_content_box_details {
      width: calc(100% - 20px);
      height: auto;
      display: inline-block;
      position: absolute;
      top: calc(10px + 250px + 5px + 1px + 5px);
      left: 10px;
      color: var(--d-333333);
      user-select: none;
      -webkit-user-select: none;
      padding-bottom: 20px;
    }

    .countdown_content_box_details .h3,
    .countdown_content_box_details .p {
      display: inline-block;
      margin: 5px;
      padding: 0px;
      color: var(--d-333333);
      word-break: break-all;
      white-space: pre-line;
      user-select: none;
      -webkit-user-select: none;
      width: 100%;
      box-sizing: border-box;
    }

    .countdown_content_box_details .h3 {
      font-size: 18px;
      font-weight: 700;
    }

    .countdown_content_box_details .p {
      font-size: 16px;
      font-weight: 400;
    }

    .options_mask {
      position: fixed;
      top: 0px;
      left: 0px;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0);
      display: none;
      user-select: none;
      -webkit-user-select: none;
    }

    .options {
      position: fixed;
      top: 60px;
      right: 10px;
      transform: scale(0);
      transform-origin: top right;
      opacity: 0;
      width: clamp(100px, calc(100% - 20px), 230px);
      min-height: 50px;
      height: 50px;
      display: none;
      background: rgba(var(--d-options-r), var(--d-options-g), var(--d-options-b), 0.5);
      backdrop-filter: blur(11px);
      -webkit-backdrop-filter: blur(11px);
      border-radius: 15px;
      overflow: hidden;
      max-height: 450px;
      user-select: none;
      -webkit-user-select: none;
      box-shadow: 0px 0px 32px -11px rgba(0, 0, 0, 0.15);
      transition: 0.25s;
      transition-timing-function: cubic-bezier(0.175, 0.660, 0.610, 0.970);
      will-change: transform, opacity;
    }

    .options[k="1"] {
      transform: scale(1);
      opacity: 1;
      transition: 0.45s;
      transition-timing-function: cubic-bezier(0.190, 1.100, 0.420, 1.025);
      height: calc(var(--js-options-list-count) * 50px);
    }

    .options[s="-1"] {
      transform: scale(1);
      transition: 0.25s;
      transition-timing-function: linear;
    }

    .options[s="1"] {
      transform: scale(calc(95 / 100));
      transition: 0.25s;
      transition-timing-function: linear;
      box-shadow: 0px 0px 32px -11px rgba(0, 0, 0, 0);
      overflow: visible;
    }

    .options li {
      width: 100%;
      height: 50px;
      border-top: 1px solid var(--d-e3e3e3);
      box-sizing: border-box;
      user-select: none;
      -webkit-user-select: none;
      position: absolute;
      right: 0px;
      top: calc(var(--options-list-n) * 50px);
    }

    .options li[b="0"] {
      border: none;
    }

    .options[s="1"] li {
      opacity: 0.6;
    }

    .options[s="1"] li[s="1"] {
      opacity: 1;
      transition-timing-function: cubic-bezier(0.190, 1.100, 0.420, 1.025);
      transform: scale(calc(100 / 95));
      transition: 0.25s;
      transform-origin: top right;
      z-index: 30;
      background: rgba(var(--d-options-r), var(--d-options-g), var(--d-options-b), 0.5);
      box-shadow: 0px 0px 32px -11px rgba(0, 0, 0, 0.15);
      border-radius: 15px;
      backdrop-filter: blur(11px);
      -webkit-backdrop-filter: blur(11px);
      border: 0px solid rgba(0, 0, 0, 0);
    }

    .options li .l_options_title {
      position: absolute;
      top: 0px;
      left: 12px;
      width: calc(100% - 50px - 10px);
      height: 50px;
      display: flex;
      align-items: center;
      color: var(--d-333333);
      font-size: 16px;
    }

    .options li .l_options_icon {
      position: absolute;
      top: 0px;
      right: 0px;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
      -webkit-user-select: none;
    }

    .options li .l_options_icon svg {
      width: 20px;
      height: 20px;
    }

    input[type="checkbox"].checkbox {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 25%;
      margin: 0px;
      padding: 0px;
      outline: none;
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
      background: transparent;
      position: relative;
      border: 2px solid var(--d-333333);
      box-sizing: border-box;
      user-select: none;
      -webkit-user-select: none;
    }

    input[type="checkbox"].checkbox:checked {
      background: var(--d-333333);
    }

    input[type="checkbox"].checkbox::after {
      content: '';
      position: absolute;
      top: 3px;
      left: 3px;
      width: 10px;
      height: 10px;
      background: var(--d-333333);
      clip-path: path('M3.33333 8.66667L2.66667 8L0 5.33333L0.666667 4.66667L3.33333 7.33333L9.33333 1.33333L10 2L4 8L3.33333 8.66667Z')
    }

    input[type="checkbox"].checkbox:checked::after {
      background: var(--d-fafafa);
    }

    .count {
      width: 35px;
      height: 55px;
      background: var(--d-e3e3e3);
      position: relative;
      overflow: hidden;
      border-radius: 10px;
      margin: 2px;
      user-select: none;
      -webkit-user-select: none;
    }

    .count_track {
      position: absolute;
      top: 0px;
      left: 0px;
      width: 100%;
      height: calc(100% * 15);
      transform: translateY(calc(var(--count-number) * -55px));
      transition: 0.5s;
      user-select: none;
      -webkit-user-select: none;
    }

    .count_track span {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      height: calc(100% / 15);
      font-size: 25px;
      color: var(--d-333333);
      user-select: none;
      -webkit-user-select: none;
    }

    .search_result {
      position: absolute;
      width: 100%;
      height: 100%;
      overflow: scroll;
      user-select: none;
      -webkit-user-select: none;
    }

    .search_result li.search_result_countdown_box {
      list-style: none;
      background: var(--d-ffffff);
      color: var(--d-333333);
      width: 100%;
      height: 45px;
      border: none;
      border-bottom: 1px solid var(--d-f4f4f4);
      padding: 0px;
      margin: 0px;
      position: relative;
      display: block;
      user-select: none;
      -webkit-user-select: none;
    }

    .search_result li.search_result_countdown_box .search_result_countdown_count {
      position: absolute;
      top: 0px;
      left: 0px;
      height: 45px;
      width: 55px;
      font-size: 14px;
      color: var(--d-333333);
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      white-space: nowrap;
      background: var(--d-ffffff);
      font-weight: 700;
      user-select: none;
      -webkit-user-select: none;
      box-sizing: border-box;
      padding: 2px;
    }

    .search_result li.search_result_countdown_box .search_result_countdown_count[f="1"] {
      font-size: 16px;
    }

    .search_result li.search_result_countdown_box[trash="true"] .search_result_countdown_count {
      color: var(--d-333333);
      font-style: italic;
      font-size: 14px;
    }

    .search_result li.search_result_countdown_box .search_result_countdown_title {
      position: absolute;
      top: 0px;
      left: 55px;
      height: 45px;
      width: calc(100% - 55px);
      font-size: 20px;
      color: var(--d-333333);
      display: flex;
      align-items: center;
      overflow: hidden;
      white-space: nowrap;
      background: var(--d-ffffff);
      box-sizing: border-box;
      padding-left: 0px;
      font-weight: 400;
      user-select: none;
      -webkit-user-select: none;
    }

    .search_result li.search_result_countdown_box[trash="true"] .search_result_countdown_title {
      text-decoration-line: line-through;
      text-decoration-color: var(--d-333333);
      font-style: italic;
      color: var(--d-888888);
    }

    canvas#countdown-photo {
      display: none;
    }

    input#importcountdowndatainput {
      opacity: 0;
      width: 0px;
      height: 0px;
      background: transparent;
      -webkit-appearance: none;
      appearance: none;
    }

    .options_content_box .options_title {
      color: var(--d-888888);
      user-select: none;
      -webkit-user-select: none;
      word-break: break-all;
      overflow: hidden;
      white-space: pre-line;
      font-weight: 400;
      font-size: 16px;
      display: inline-block;
      width: calc(100% - 20px);
      position: relative;
      left: 50%;
      transform: translateX(-50%);
      margin-top: 5px;
      padding: 5px;
      box-sizing: border-box;
    }

    .options_content_box li.options_list {
      list-style: none;
      display: block;
      width: calc(100% - 20px);
      height: 50px;
      background: var(--d-ffffff);
      border: 1px solid var(--d-f4f4f4);
      box-shadow: 0px 0px 12px -8px rgba(0, 0, 0, 0.15);
      box-sizing: border-box;
      -webkit-user-select: none;
      user-select: none;
      position: relative;
      margin-top: 10px;
      border-radius: 15px;
      overflow: hidden;
      left: 50%;
      transform: translateX(-50%);
    }

    .options_content_box li.options_list[b="0"] {
      margin-top: 0px;
    }

    .options_content_box li.options_list .options_list_title {
      position: absolute;
      top: 5px;
      left: 10px;
      width: calc(100% - 15px - 40px);
      height: calc(100% - 10px);
      color: var(--d-333333);
      font-size: 16px;
      display: flex;
      align-items: center;
      user-select: none;
      -webkit-user-select: none;
    }

    .options_content_box li.options_list .options_list_icon {
      position: absolute;
      top: 5px;
      right: 5px;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
      -webkit-user-select: none;
    }

    .options_content_box li.options_list .options_list_icon svg {
      width: 20px;
      height: 20px;
    }

    .switch {
      position: absolute;
      right: 32px;
      top: 12px;
      -webkit-user-select: none;
      user-select: none;
    }

    .switch input[type="checkbox"] {
      height: 25px;
      padding: 0;
      margin: 0;
      box-sizing: border-box;
      border: none;
      background: rgba(0, 0, 0, 0);
      transform: translateX(1px);
      -webkit-user-select: none;
      user-select: none;
    }

    .switch input[type="checkbox"]::before {
      content: '';
      background: var(--d-e3e3e3);
      width: 40px;
      height: 25px;
      position: absolute;
      top: 0;
      left: -1px;
      border-radius: 99em;
      transition: .3s
    }

    .switch input[type="checkbox"]:checked::before {
      background: var(--d-888888)
    }

    .switch input[type="checkbox"]::after {
      content: '';
      background: var(--d-fafafa);
      width: 22px;
      height: 22px;
      position: absolute;
      top: 1.5px;
      left: .5px;
      border-radius: 99em;
      transition: .3s
    }

    .switch input[type="checkbox"]:checked::after {
      content: '';
      background: var(--d-fafafa);
      width: 22px;
      height: 22px;
      position: absolute;
      top: 1.5px;
      left: 15.5px
    }

    @media only screen and (max-width: 600px) {
      .count {
        width: 25px;
        height: 45px;
        border-radius: 5px;
      }

      .count_track {
        transform: translateY(calc(var(--count-number) * -45px));
      }

      .count_track span {
        font-size: 15px
      }
    }
  </style>
  <style id="options_css"></style>
</head>

<body>
  <canvas id="countdown-photo"></canvas>
  <input type="file" id="importcountdowndatainput" name="importcountdowndatainput" accept="application/json">
  <div class="title">
    <span id="content_box_title_text">Countdown</span>

    <div class="trash_back_btn" r-click="closetrashcan()">
      <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M32 64L0 32L32 0L36.2 4.2L11.4 29L64 29L64 35L11.4 35L36.2 59.8L32 64Z" fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>

    <div class="options_btn" r-click="openoptions(0)" loading="1">
      <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M4.8 36.8C3.46667 36.8 2.33333 36.3333 1.4 35.4C0.466666 34.4667-6.35783e-07 33.3333 7.10543e-15 32C7.10543e-15 30.6667 0.466667 29.5333 1.4 28.6C2.33333 27.6667 3.46667 27.2 4.8 27.2C6.13333 27.2 7.26667 27.6667 8.2 28.6C9.13333 29.5333 9.6 30.6667 9.6 32C9.6 33.3333 9.13333 34.4667 8.2 35.4C7.26667 36.3333 6.13333 36.8 4.8 36.8ZM32 36.8C30.6667 36.8 29.5333 36.3333 28.6 35.4C27.6667 34.4667 27.2 33.3333 27.2 32C27.2 30.6667 27.6667 29.5333 28.6 28.6C29.5333 27.6667 30.6667 27.2 32 27.2C33.3333 27.2 34.4667 27.6667 35.4 28.6C36.3333 29.5333 36.8 30.6667 36.8 32C36.8 33.3333 36.3333 34.4667 35.4 35.4C34.4667 36.3333 33.3333 36.8 32 36.8ZM59.2 36.8C57.8667 36.8 56.7333 36.3333 55.8 35.4C54.8667 34.4667 54.4 33.3333 54.4 32C54.4 30.6667 54.8667 29.5333 55.8 28.6C56.7333 27.6667 57.8667 27.2 59.2 27.2C60.5333 27.2 61.6667 27.6667 62.6 28.6C63.5333 29.5333 64 30.6667 64 32C64 33.3333 63.5333 34.4667 62.6 35.4C61.6667 36.3333 60.5333 36.8 59.2 36.8Z" fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>
    <div class="search_btn" r-click="opensearchpage()" u="0" loading="1">
      <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="svgsearchicon">
        <path d="M60.0889 64L36.7111 40.6222C34.9333 42.163 32.8593 43.363 30.4889 44.2222C28.1185 45.0815 25.6 45.5111 22.9333 45.5111C16.5333 45.5111 11.1111 43.2889 6.66667 38.8444C2.22222 34.4 1.41285e-06 29.037 8.4771e-07 22.7556C8.4771e-07 16.4741 2.22222 11.1111 6.66667 6.66667C11.1111 2.22222 16.5037 3.55271e-15 22.8444 3.55271e-15C29.1259 3.55271e-15 34.4741 2.22222 38.8889 6.66667C43.3037 11.1111 45.5111 16.4741 45.5111 22.7556C45.5111 25.3037 45.0963 27.763 44.2667 30.1333C43.437 32.5037 42.1926 34.7259 40.5333 36.8L64 60.0889L60.0889 64ZM22.8444 40.1778C27.6444 40.1778 31.7333 38.4741 35.1111 35.0667C38.4889 31.6593 40.1778 27.5556 40.1778 22.7556C40.1778 17.9556 38.4889 13.8519 35.1111 10.4444C31.7333 7.03704 27.6444 5.33333 22.8444 5.33333C17.9852 5.33333 13.8519 7.03704 10.4444 10.4444C7.03704 13.8519 5.33333 17.9556 5.33333 22.7556C5.33333 27.5556 7.03704 31.6593 10.4444 35.0667C13.8519 38.4741 17.9852 40.1778 22.8444 40.1778Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
      </svg>

      <div class="back_btn" r-click="closesearchpage()">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M32 64L0 32L32 0L36.2 4.2L11.4 29L64 29L64 35L11.4 35L36.2 59.8L32 64Z" fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
        </svg>
      </div>
      <input type="text" id="search_countdown" placeholder="search">

    </div>
    <div class="delete_btn" r-click="deleteselected()">
      <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M12.5333 64C11.1111 64 9.86667 63.4667 8.8 62.4C7.73333 61.3333 7.2 60.0889 7.2 58.6667L7.2 8L3.55556 8L3.55556 2.66667L20.2667 2.66667L20.2667 7.10543e-15L43.7333 7.10543e-15L43.7333 2.66667L60.4444 2.66667L60.4444 8L56.8 8L56.8 58.6667C56.8 60.0889 56.2667 61.3333 55.2 62.4C54.1333 63.4667 52.8889 64 51.4667 64L12.5333 64ZM51.4667 8L12.5333 8L12.5333 58.6667L51.4667 58.6667L51.4667 8ZM21.9556 51.0222L27.2889 51.0222L27.2889 15.5556L21.9556 15.5556L21.9556 51.0222ZM36.7111 51.0222L42.0444 51.0222L42.0444 15.5556L36.7111 15.5556L36.7111 51.0222ZM12.5333 8L12.5333 58.6667L12.5333 8Z" fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>
    <div class="cancel_btn" r-click="cancelselect()">
      <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M4.92308 64L1.67679e-06 59.0769L27.0769 32L2.79465e-06 4.92308L4.92308 1.11786e-06L32 27.0769L59.0769 7.10543e-15L64 4.92308L36.9231 32L64 59.0769L59.0769 64L32 36.9231L4.92308 64Z" fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>

  </div>
  <div class="content_box">
    <div class="recent_access_content_box"></div>
  </div>
  <div class="addcountdown" r-click="openaddcountdown()" loading="1">
    <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <path d="M28.5714 64L28.5714 35.4286L0 35.4286L0 28.5714L28.5714 28.5714L28.5714 0L35.4286 0L35.4286 28.5714L64 28.5714L64 35.4286L35.4286 35.4286L35.4286 64L28.5714 64Z" fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
    </svg>
  </div>

  <div class="search_countdown_content_box">
    <div class="search_result"></div>
  </div>


  <div class="countdown_title">
    <div class="back_btn" r-click="closecountdown()">
      <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M32 64L0 32L32 0L36.2 4.2L11.4 29L64 29L64 35L11.4 35L36.2 59.8L32 64Z" fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>
    <span id="countdown_title_text"></span>

    <div class="options_btn" r-click="openoptions(1)">
      <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M4.8 36.8C3.46667 36.8 2.33333 36.3333 1.4 35.4C0.466666 34.4667-6.35783e-07 33.3333 7.10543e-15 32C7.10543e-15 30.6667 0.466667 29.5333 1.4 28.6C2.33333 27.6667 3.46667 27.2 4.8 27.2C6.13333 27.2 7.26667 27.6667 8.2 28.6C9.13333 29.5333 9.6 30.6667 9.6 32C9.6 33.3333 9.13333 34.4667 8.2 35.4C7.26667 36.3333 6.13333 36.8 4.8 36.8ZM32 36.8C30.6667 36.8 29.5333 36.3333 28.6 35.4C27.6667 34.4667 27.2 33.3333 27.2 32C27.2 30.6667 27.6667 29.5333 28.6 28.6C29.5333 27.6667 30.6667 27.2 32 27.2C33.3333 27.2 34.4667 27.6667 35.4 28.6C36.3333 29.5333 36.8 30.6667 36.8 32C36.8 33.3333 36.3333 34.4667 35.4 35.4C34.4667 36.3333 33.3333 36.8 32 36.8ZM59.2 36.8C57.8667 36.8 56.7333 36.3333 55.8 35.4C54.8667 34.4667 54.4 33.3333 54.4 32C54.4 30.6667 54.8667 29.5333 55.8 28.6C56.7333 27.6667 57.8667 27.2 59.2 27.2C60.5333 27.2 61.6667 27.6667 62.6 28.6C63.5333 29.5333 64 30.6667 64 32C64 33.3333 63.5333 34.4667 62.6 35.4C61.6667 36.3333 60.5333 36.8 59.2 36.8Z" fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>

  </div>
  <div class="countdown_content_box">
    <div class="countdown_content_box_count"></div>
    <div class="countdown_content_box_line"></div>
    <div class="countdown_content_box_details">
      <div id="countdown_content_box_details_title" class="h3"></div>
      <div id="countdown_content_box_details_description" class="p"></div>
      <div id="countdown_content_box_details_date" class="p"></div>
    </div>

  </div>
  <div class="add_countdown_title">
    <div class="back_btn" r-click="closeaddcountdown()">
      <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M32 64L0 32L32 0L36.2 4.2L11.4 29L64 29L64 35L11.4 35L36.2 59.8L32 64Z" fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>
    <span id="add_countdown_title_text">Add Countdown</span>
  </div>
  <div class="add_countdown_content_box">
    <input type="text" placeholder="Title" id="add_title" c="1">
    <textarea placeholder="Description" id="add_description"></textarea>
    <div class="date_input_group">
      <div class="date_input_group_date">
        <input type="text" id="add_date_year" placeholder="Year" inputmode="numeric">
        <input type="text" id="add_date_month" placeholder="Month" inputmode="numeric">
        <input type="text" id="add_date_date" placeholder="Date" inputmode="numeric">
      </div>
      <div class="date_input_group_time">
        <input type="text" id="add_date_hour" placeholder="Hour" inputmode="numeric">
        <input type="text" id="add_date_minute" placeholder="Minute" inputmode="numeric">
        <input type="text" id="add_date_second" placeholder="Second" inputmode="numeric">
      </div>
    </div>
    <div class="add_countdown_btn" r-click="addcountdown(0)">Add</div>
  </div>

  <div class="edit_countdown_title">
    <div class="back_btn" r-click="closeeditcountdown()" id="edit_back_btn">
      <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M32 64L0 32L32 0L36.2 4.2L11.4 29L64 29L64 35L11.4 35L36.2 59.8L32 64Z" fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>
    <span id="edit_countdown_title_text">Edit Countdown</span>
  </div>
  <div class="edit_countdown_content_box">
    <input type="text" placeholder="Title" id="edit_title" c="1">
    <textarea placeholder="Description" id="edit_description"></textarea>
    <div class="date_input_group">
      <div class="date_input_group_date">
        <input type="text" id="edit_date_year" placeholder="Year" inputmode="numeric">
        <input type="text" id="edit_date_month" placeholder="Month" inputmode="numeric">
        <input type="text" id="edit_date_date" placeholder="Date" inputmode="numeric">
      </div>
      <div class="date_input_group_time">
        <input type="text" id="edit_date_hour" placeholder="Hour" inputmode="numeric">
        <input type="text" id="edit_date_minute" placeholder="Minute" inputmode="numeric">
        <input type="text" id="edit_date_second" placeholder="Second" inputmode="numeric">
      </div>
    </div>
    <div class="edit_countdown_btn" r-click="savecountdown()">Save</div>
  </div>

  <div class="options_content_box_title">
    <div class="back_btn" r-click="closeoptionscontentbox()" id="options_content_box_back_btn">
      <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M32 64L0 32L32 0L36.2 4.2L11.4 29L64 29L64 35L11.4 35L36.2 59.8L32 64Z" fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>
    <span id="options_content_box_title">Options</span>
  </div>
  <div class="options_content_box">
    <div class="options_title">Options</div>
    <li class="options_list" r="1" b="0">
      <div class="options_list_title">Auto delete finish countdown</div>
      <label for="options_list_auto_delete_finish_countdown" class="switch"><input type="checkbox" id="options_list_auto_delete_finish_countdown" name="options_list_auto_delete_finish_countdown" jg="auto_delete_finish_countdown"></label>
    </li>

    <div class="options_title">Data</div>
    <li class="options_list" s="1" r-click="opentrashcan()" b="0">
      <div class="options_list_title">Trash Can</div>
      <div class="options_list_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M12.8474 64C11.3936 64 10.1294 63.4627 9.05481 62.3881C7.98025 61.3136 7.44296 60.0178 7.44296 58.5007L7.44296 6.92148L3.55556 6.92148L3.55556 2.65481L19.7689 2.65481L19.7689 0L44.2311 0L44.2311 2.65481L60.4444 2.65481L60.4444 6.92148L56.557 6.92148L56.557 58.5007C56.557 60.0178 56.0198 61.3136 54.9452 62.3881C53.8706 63.4627 52.6064 64 51.1526 64L12.8474 64ZM52.2904 6.92148L11.7096 6.92148L11.7096 58.5007C11.7096 58.88 11.8202 59.1802 12.0415 59.4015C12.2627 59.6227 12.5314 59.7333 12.8474 59.7333L51.1526 59.7333C51.4054 59.7333 51.6583 59.6069 51.9111 59.3541C52.164 59.1012 52.2904 58.8168 52.2904 58.5007L52.2904 6.92148ZM22.6133 51.6741L26.9748 51.6741L26.9748 14.8859L22.6133 14.8859L22.6133 51.6741ZM37.0252 51.6741L41.3867 51.6741L41.3867 14.8859L37.0252 14.8859L37.0252 51.6741ZM11.7096 6.92148L11.7096 59.7333L11.7096 58.5007L11.7096 6.92148Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
    <li class="options_list" s="1" r-click="downloadCountdownDataFile()">
      <div class="options_list_title">Export data</div>
      <div class="options_list_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M6.48513 63.999C4.7982 63.999 3.35728 63.4016 2.16237 62.2067C0.967455 61.0117 0.37 59.5708 0.37 57.8839L0.37 44.8101L5.1145 44.8101L5.1145 57.8839C5.1145 58.2353 5.25508 58.5516 5.53623 58.8328C5.81739 59.1139 6.13369 59.2545 6.48513 59.2545L57.5149 59.2545C57.8663 59.2545 58.1826 59.1139 58.4638 58.8328C58.7449 58.5516 58.8855 58.2353 58.8855 57.8839L58.8855 44.8101L63.63 44.8101L63.63 57.8839C63.63 59.5708 63.0325 61.0117 61.8376 62.2066C60.6427 63.4016 59.2018 63.999 57.5149 63.999L6.48513 63.999ZM32 48.184L14.4981 30.6821L17.9774 27.3082L29.575 38.9059L29.575 0.000982931L34.425 0.000982931L34.425 38.9059L46.0226 27.3082L49.5019 30.6821L32 48.184Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
    <li class="options_list" s="1" r-click="importCountdownData()">
      <div class="options_list_title">Import data</div>
      <div class="options_list_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M6.48435 64C4.79736 64 3.3564 63.4025 2.16145 62.2076C0.966502 61.0126 0.369028 59.5717 0.369028 57.8847L0.369028 44.8105L5.11367 44.8105L5.11367 57.8847C5.11367 58.2361 5.25426 58.5524 5.53542 58.8336C5.81658 59.1148 6.13289 59.2554 6.48435 59.2554L57.5157 59.2554C57.8671 59.2554 58.1834 59.1148 58.4646 58.8336C58.7457 58.5524 58.8863 58.2361 58.8863 57.8847L58.8863 44.8105L63.631 44.8105L63.631 57.8847C63.631 59.5717 63.0335 61.0126 61.8386 62.2076C60.6436 63.4025 59.2026 64 57.5157 64L6.48435 64ZM29.575 48.1845L29.575 9.27842L17.9769 20.8764L14.4975 17.5025L32 0L49.5025 17.5025L46.0231 20.8764L34.425 9.27842L34.425 48.1845L29.575 48.1845Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
  </div>

  <div class="options_mask" r-click="closeoptions()"></div>
  <div class="options">
    <li r-click="editcountdown()" style="--options-list-n:0;" style="--options-list-n:0;" y="edit" group="0" b="0">
      <div class="l_options_title">Edit</div>
      <div class="l_options_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M26.4471 45.8353L52.2353 20.0471L49.1294 17.0353L26.4471 39.7176L15.3412 28.7059L12.2353 31.7176L26.4471 45.8353ZM5.45882 64C3.95294 64 2.66667 63.4667 1.6 62.4C0.533333 61.3333 3.36591e-07 60.0471 3.36591e-07 58.5412L3.36591e-07 5.45882C3.36591e-07 3.95294 0.533334 2.66667 1.6 1.6C2.66667 0.533333 3.95294 0 5.45882 0L58.5412 0C60.0471 0 61.3333 0.533333 62.4 1.6C63.4667 2.66667 64 3.95294 64 5.45882L64 58.5412C64 60.0471 63.4667 61.3333 62.4 62.4C61.3333 63.4667 60.0471 64 58.5412 64L5.45882 64ZM5.45882 59.7647L58.5412 59.7647C58.8549 59.7647 59.1373 59.6392 59.3882 59.3882C59.6392 59.1373 59.7647 58.8549 59.7647 58.5412L59.7647 5.45882C59.7647 5.1451 59.6392 4.86274 59.3882 4.61176C59.1373 4.36078 58.8549 4.23529 58.5412 4.23529L5.45882 4.23529C5.1451 4.23529 4.86274 4.36078 4.61176 4.61176C4.36078 4.86274 4.23529 5.1451 4.23529 5.45882L4.23529 58.5412C4.23529 58.8549 4.36078 59.1373 4.61176 59.3882C4.86274 59.6392 5.1451 59.7647 5.45882 59.7647ZM4.23529 4.23529L4.23529 59.7647L4.23529 4.23529Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
    <li r-click="openoptionscontentbox()" style="--options-list-n:1;" y="openoptionscontentbox" group="0">
      <div class="l_options_title">Options</div>
      <div class="l_options_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M43.4375 0L43.4375 19.0938L47.5312 19.0938L47.5312 11.625L64 11.625L64 7.5L47.5312 7.5L47.5312 0L43.4375 0ZM0 7.5L0 11.625L35.6562 11.625L35.6562 7.5L0 7.5ZM16.4688 22.3125L16.4688 29.9062L0 29.9062L0 34.0938L16.4688 34.0938L16.4688 41.5L20.5625 41.5L20.5625 22.3125L16.4688 22.3125ZM28.3438 29.9062L28.3438 34.0938L64 34.0938L64 29.9062L28.3438 29.9062ZM28.3438 44.9062L28.3438 64L32.5625 64L32.5625 56.5L64 56.5L64 52.375L32.5625 52.375L32.5625 44.9062L28.3438 44.9062ZM0 52.375L0 56.5L20.5625 56.5L20.5625 52.375L0 52.375Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
    <li r-click="refreshpage()" style="--options-list-n:2;" y="refresh" group="0">
      <div class="l_options_title">Refresh</div>
      <div class="l_options_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M32.2133 64C23.3244 64 15.7689 60.8889 9.54667 54.6667C3.32444 48.4444 0.213334 40.8889 0.213334 32C0.213334 23.1111 3.32444 15.5556 9.54667 9.33333C15.7689 3.11111 23.3244 0 32.2133 0C37.9733 0 43.1111 1.26222 47.6267 3.78667C52.1422 6.31111 55.9289 9.77778 58.9867 14.1867L58.9867 0L63.7867 0L63.7867 24.1067L39.7867 24.1067L39.7867 19.2L56.64 19.2C54.08 14.8622 50.72 11.3778 46.56 8.74667C42.4 6.11556 37.6178 4.8 32.2133 4.8C24.6044 4.8 18.1689 7.43111 12.9067 12.6933C7.64444 17.9556 5.01333 24.3911 5.01333 32C5.01333 39.6089 7.64444 46.0444 12.9067 51.3067C18.1689 56.5689 24.6044 59.2 32.2133 59.2C37.9733 59.2 43.2356 57.5467 48 54.24C52.7644 50.9333 56.1067 46.5422 58.0267 41.0667L63.04 41.0667C61.0489 47.9644 57.2089 53.5111 51.52 57.7067C45.8311 61.9022 39.3956 64 32.2133 64Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
    <li r-click="viewongithub()" style="--options-list-n:3;" y="github" group="0">
      <div class="l_options_title">Github</div>
      <div class="l_options_icon">

        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M31.9021 0.868074C14.2875 0.868074 0 15.1555 0 32.7702C0 46.862 9.19878 58.8008 21.7248 63.1066C23.2905 63.3023 23.8777 62.3237 23.8777 61.5409C23.8777 60.758 23.8777 58.8008 23.8777 56.0607C15.0703 58.0179 13.1131 51.7549 13.1131 51.7549C11.7431 48.0363 9.59021 47.0577 9.59021 47.0577C6.65443 45.1005 9.78593 45.1005 9.78593 45.1005C12.9174 45.2962 14.6789 48.4277 14.6789 48.4277C17.6147 53.3207 22.1162 51.9506 23.8777 51.1678C24.0734 49.0149 25.052 47.6448 25.8349 46.862C18.789 46.0791 11.3517 43.339 11.3517 31.0087C11.3517 27.4858 12.526 24.7457 14.6789 22.3971C14.2875 21.6143 13.3089 18.287 15.0703 13.9812C15.0703 13.9812 17.8104 13.1983 23.8777 17.3084C26.422 16.5256 29.1621 16.3298 31.9021 16.3298C34.6422 16.3298 37.3823 16.7213 39.9266 17.3084C45.9939 13.1983 48.7339 13.9812 48.7339 13.9812C50.4954 18.287 49.3211 21.6143 49.1254 22.3971C51.0826 24.55 52.4526 27.4858 52.4526 31.0087C52.4526 43.339 45.0153 45.8834 37.9694 46.6662C39.1437 47.6448 40.1223 49.602 40.1223 52.5378C40.1223 56.8436 40.1223 60.1708 40.1223 61.3451C40.1223 62.128 40.7095 63.1066 42.2752 62.9109C54.9969 58.6051 64 46.6662 64 32.5745C63.8043 15.1555 49.5168 0.868074 31.9021 0.868074Z" fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
        </svg>

      </div>
    </li>
    <li r-click="editcountdown_detail()" style="--options-list-n:0;" y="edit2" group="1" b="0">
      <div class="l_options_title">Edit</div>
      <div class="l_options_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M55.9412 0.235294C54.4667 0.235295 53.1843 0.756863 52.1176 1.82353L48.9412 5L58.8235 14.8235L62.7647 10.8824C63.5804 10.0667 64 9.01569 64 7.82353C64 6.63137 63.5804 5.63922 62.7647 4.82353L59.6471 1.82353C58.6431 0.75686 57.4157 0.235294 55.9412 0.235294ZM45.9412 8.05882L0 53.9412L0 63.7647L9.76471 63.7647L55.8235 17.8235L45.9412 8.05882ZM45.8235 14.0588L49.7059 17.9412L8.11765 59.5294L4.35294 59.5294L4.35294 55.6471L45.8235 14.0588Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
    <li r-click="sharecountdown()" style="--options-list-n:1;" y="share" group="1">
      <div class="l_options_title">Share as link</div>
      <div class="l_options_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M15.25 16.75C11.0615 16.75 7.45653 18.2622 4.46875 21.25C1.48097 24.2378 0 27.8115 0 32C-6.35783e-07 36.1885 1.48097 39.7622 4.46875 42.75C7.45653 45.7378 11.0615 47.25 15.25 47.25L28.6562 47.25L28.6562 43.4062L15.25 43.4062C12.0668 43.4062 9.36218 42.2651 7.15625 40.0312C4.95032 37.7974 3.84375 35.1274 3.84375 32C3.84375 28.8168 4.95032 26.1122 7.15625 23.9062C9.36218 21.7003 12.0668 20.5938 15.25 20.5938L28.6562 20.5938L28.6562 16.75L15.25 16.75ZM35.3438 16.75L35.3438 20.5938L48.75 20.5938C51.9333 20.5938 54.6378 21.7349 56.8438 23.9688C59.0497 26.2026 60.1562 28.8726 60.1562 32C60.1562 35.1832 59.0497 37.8878 56.8438 40.0938C54.6378 42.2997 51.9332 43.4062 48.75 43.4062L35.3438 43.4062L35.3438 47.25L48.75 47.25C52.9385 47.25 56.5435 45.7378 59.5312 42.75C62.519 39.7622 64 36.1885 64 32C64 27.8115 62.519 24.2378 59.5312 21.25C56.5435 18.2622 52.9385 16.75 48.75 16.75L35.3438 16.75ZM19.7812 30.0625L19.7812 33.9375L44.3125 33.9375L44.3125 30.0625L19.7812 30.0625Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
    <li r-click="shareCountdownPhoto()" style="--options-list-n:2;" y="shcountdownphoto" group="1">
      <div class="l_options_title">Share as photo</div>
      <div class="l_options_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M5.46875 0C3.96287 0 2.66042 0.527084 1.59375 1.59375C0.527083 2.66042 0 3.96287 0 5.46875L0 58.5312C-7.94729e-08 60.0371 0.527084 61.3396 1.59375 62.4062C2.66042 63.4729 3.96287 64 5.46875 64L58.5312 64C60.0371 64 61.3396 63.4729 62.4062 62.4062C63.4729 61.3396 64 60.0371 64 58.5312L64 5.46875C64 3.96287 63.4729 2.66042 62.4062 1.59375C61.3396 0.527083 60.0371 0 58.5312 0L5.46875 0ZM5.46875 4.25L58.5312 4.25C58.845 4.25 59.124 4.37402 59.375 4.625C59.626 4.87598 59.75 5.15502 59.75 5.46875L59.75 58.5312C59.75 58.845 59.626 59.124 59.375 59.375C59.124 59.626 58.845 59.75 58.5312 59.75L5.46875 59.75C5.15502 59.75 4.87598 59.626 4.625 59.375C4.37402 59.124 4.25 58.845 4.25 58.5312L4.25 5.46875C4.25 5.15502 4.37402 4.87598 4.625 4.625C4.87598 4.37402 5.15502 4.25 5.46875 4.25ZM40.1875 33.875L28.8125 48.375L21.0938 38.2188L11.9375 50.0625L52.4375 50.0625L40.1875 33.875Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
          <path d="M4.23529 59.7647L4.23529 4.23529L4.23529 59.7647Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
    <li r-click="addToCalendar()" style="--options-list-n:3;" y="addtocalendar" group="1">
      <div class="l_options_title">Add to Calendar</div>
      <div class="l_options_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M14.5938 0L14.5938 5.84375L8.40625 5.84375C7.06769 5.84375 5.9169 6.33646 4.96875 7.3125C4.0206 8.28854 3.5625 9.43596 3.5625 10.7188L3.5625 59.1562C3.5625 60.4948 4.0206 61.6144 4.96875 62.5625C5.9169 63.5106 7.06769 64 8.40625 64L55.5938 64C56.9323 64 58.0831 63.5106 59.0312 62.5625C59.9794 61.6143 60.4375 60.4948 60.4375 59.1562L60.4375 10.7188C60.4375 9.43596 59.9794 8.28853 59.0312 7.3125C58.0831 6.33647 56.9323 5.84375 55.5938 5.84375L49.5 5.84375L49.5 0L45.375 0L45.375 5.84375L18.7812 5.84375L18.7812 0L14.5938 0ZM8.40625 9.71875L55.5938 9.71875C55.8726 9.71875 56.1207 9.80479 56.3438 10C56.5668 10.1952 56.6875 10.4399 56.6875 10.7188L56.6875 22.1562L7.3125 22.1562L7.3125 10.7188C7.3125 10.4399 7.43316 10.1952 7.65625 10C7.87934 9.80479 8.12738 9.71875 8.40625 9.71875ZM7.3125 25.9375L56.6875 25.9375L56.6875 59.1562C56.6875 59.4351 56.5668 59.6832 56.3438 59.9062C56.1206 60.1293 55.8726 60.25 55.5938 60.25L8.40625 60.25C8.12738 60.25 7.87934 60.1293 7.65625 59.9062C7.43316 59.6832 7.3125 59.4351 7.3125 59.1562L7.3125 25.9375ZM16.0938 33.0312L16.0938 36.8125L47.9062 36.8125L47.9062 33.0312L16.0938 33.0312ZM16.0938 47.6875L16.0938 51.4375L37.7812 51.4375L37.7812 47.6875L16.0938 47.6875Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
    <li r-click="duplicatecountdown()" style="--options-list-n:4;" y="duplicate" group="1">
      <div class="l_options_title">Duplicate</div>
      <div class="l_options_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M9.6 64C8.32 64 7.2 63.52 6.24 62.56C5.28 61.6 4.8 60.48 4.8 59.2L4.8 10.96L9.6 10.96L9.6 59.2L47.52 59.2L47.52 64L9.6 64ZM19.2 54.4C17.92 54.4 16.8 53.92 15.84 52.96C14.88 52 14.4 50.88 14.4 49.6L14.4 4.8C14.4 3.52 14.88 2.4 15.84 1.44C16.8 0.48 17.92 0 19.2 0L54.4 0C55.68 0 56.8 0.48 57.76 1.44C58.72 2.4 59.2 3.52 59.2 4.8L59.2 49.6C59.2 50.88 58.72 52 57.76 52.96C56.8 53.92 55.68 54.4 54.4 54.4L19.2 54.4ZM19.2 49.6L54.4 49.6L54.4 4.8L19.2 4.8L19.2 49.6ZM19.2 49.6L19.2 4.8L19.2 49.6Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
    <li r-click="deletecountdown()" style="--options-list-n:5;" y="delete" group="1">
      <div class="l_options_title">Delete</div>
      <div class="l_options_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M12.8474 64C11.3936 64 10.1294 63.4627 9.05481 62.3881C7.98025 61.3136 7.44296 60.0178 7.44296 58.5007L7.44296 6.92148L3.55556 6.92148L3.55556 2.65481L19.7689 2.65481L19.7689 0L44.2311 0L44.2311 2.65481L60.4444 2.65481L60.4444 6.92148L56.557 6.92148L56.557 58.5007C56.557 60.0178 56.0198 61.3136 54.9452 62.3881C53.8706 63.4627 52.6064 64 51.1526 64L12.8474 64ZM52.2904 6.92148L11.7096 6.92148L11.7096 58.5007C11.7096 58.88 11.8202 59.1802 12.0415 59.4015C12.2627 59.6227 12.5314 59.7333 12.8474 59.7333L51.1526 59.7333C51.4054 59.7333 51.6583 59.6069 51.9111 59.3541C52.164 59.1012 52.2904 58.8168 52.2904 58.5007L52.2904 6.92148ZM22.6133 51.6741L26.9748 51.6741L26.9748 14.8859L22.6133 14.8859L22.6133 51.6741ZM37.0252 51.6741L41.3867 51.6741L41.3867 14.8859L37.0252 14.8859L37.0252 51.6741ZM11.7096 6.92148L11.7096 59.7333L11.7096 58.5007L11.7096 6.92148Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
    <li r-click="cleartrashcan()" style="--options-list-n:0;" y="cleartrashcan" group="2" b="0">
      <div class="l_options_title">Clear</div>
      <div class="l_options_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M19.7812 0L19.7812 2.65625L3.5625 2.65625L3.5625 6.90625L7.4375 6.90625L7.4375 58.5C7.4375 60.017 7.98793 61.3004 9.0625 62.375C10.1371 63.4496 11.3899 64 12.8438 64L51.1562 64C52.6101 64 53.8629 63.4496 54.9375 62.375C56.0121 61.3004 56.5625 60.017 56.5625 58.5L56.5625 6.90625L60.4375 6.90625L60.4375 2.65625L44.2188 2.65625L44.2188 0L19.7812 0ZM11.7188 6.90625L52.2812 6.90625L52.2812 58.5C52.2813 58.816 52.1591 59.0909 51.9062 59.3438C51.6534 59.5966 51.4091 59.7188 51.1562 59.7188L12.8438 59.7188C12.5909 59.7188 12.3466 59.5966 12.0938 59.3438C11.8409 59.0909 11.7188 58.816 11.7188 58.5L11.7188 6.90625ZM21.0938 18.5938L17.6875 22.0938L28.6875 33.0938L17.6875 44.1875L21.0938 47.5938L32 36.5L43 47.5938L46.3125 44.1875L35.4062 33.0938L46.3125 22.0938L43 18.5938L32 29.6875L21.0938 18.5938Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
    <li r-click="revertdeleteintrash()" style="--options-list-n:1;" y="revertdeleteintrash" group="2">
      <div class="l_options_title">Revert delete</div>
      <div class="l_options_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M19.7926 0L19.7926 2.60741L3.55556 2.60741L3.55556 6.87407L7.46667 6.87407L7.46667 58.4889C7.46666 60.0059 7.99209 61.2662 9.06667 62.3407C10.1412 63.4153 11.4054 64 12.8593 64L51.1407 64C52.5946 64 53.8588 63.4153 54.9333 62.3407C56.0079 61.2662 56.5333 60.0059 56.5333 58.4889L56.5333 6.87407L60.4444 6.87407L60.4444 2.60741L44.2074 2.60741L44.2074 0L19.7926 0ZM11.7333 6.87407L52.2667 6.87407L52.2667 58.4889C52.2667 58.8049 52.164 59.0657 51.9111 59.3185C51.6583 59.5714 51.3936 59.7333 51.1407 59.7333L12.8593 59.7333C12.6064 59.7334 12.3417 59.5714 12.0889 59.3185C11.836 59.0657 11.7333 58.8049 11.7333 58.4889L11.7333 6.87407ZM32 17.4222L18.6074 30.8148L21.7481 33.8963L29.8074 25.363L29.8074 44.2667L34.1926 44.2667L34.1926 25.363L42.2519 33.8963L45.3926 30.8148L32 17.4222Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
    <li r-click="revertdeletecountdown()" style="--options-list-n:0;" y="revertdelete" group="3" b="0">
      <div class="l_options_title">Revert delete</div>
      <div class="l_options_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M19.7926 0L19.7926 2.60741L3.55556 2.60741L3.55556 6.87407L7.46667 6.87407L7.46667 58.4889C7.46666 60.0059 7.99209 61.2662 9.06667 62.3407C10.1412 63.4153 11.4054 64 12.8593 64L51.1407 64C52.5946 64 53.8588 63.4153 54.9333 62.3407C56.0079 61.2662 56.5333 60.0059 56.5333 58.4889L56.5333 6.87407L60.4444 6.87407L60.4444 2.60741L44.2074 2.60741L44.2074 0L19.7926 0ZM11.7333 6.87407L52.2667 6.87407L52.2667 58.4889C52.2667 58.8049 52.164 59.0657 51.9111 59.3185C51.6583 59.5714 51.3936 59.7333 51.1407 59.7333L12.8593 59.7333C12.6064 59.7334 12.3417 59.5714 12.0889 59.3185C11.836 59.0657 11.7333 58.8049 11.7333 58.4889L11.7333 6.87407ZM32 17.4222L18.6074 30.8148L21.7481 33.8963L29.8074 25.363L29.8074 44.2667L34.1926 44.2667L34.1926 25.363L42.2519 33.8963L45.3926 30.8148L32 17.4222Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
    <li r-click="deletecountdownforever()" style="--options-list-n:1;" y="deleteforever" group="3">
      <div class="l_options_title">Delete forever</div>
      <div class="l_options_icon">
        <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path d="M19.7812 0L19.7812 2.65625L3.5625 2.65625L3.5625 6.90625L7.4375 6.90625L7.4375 58.5C7.4375 60.017 7.98793 61.3004 9.0625 62.375C10.1371 63.4496 11.3899 64 12.8438 64L51.1562 64C52.6101 64 53.8629 63.4496 54.9375 62.375C56.0121 61.3004 56.5625 60.017 56.5625 58.5L56.5625 6.90625L60.4375 6.90625L60.4375 2.65625L44.2188 2.65625L44.2188 0L19.7812 0ZM11.7188 6.90625L52.2812 6.90625L52.2812 58.5C52.2813 58.816 52.1591 59.0909 51.9062 59.3438C51.6534 59.5966 51.4091 59.7188 51.1562 59.7188L12.8438 59.7188C12.5909 59.7188 12.3466 59.5966 12.0938 59.3438C11.8409 59.0909 11.7188 58.816 11.7188 58.5L11.7188 6.90625ZM21.0938 18.5938L17.6875 22.0938L28.6875 33.0938L17.6875 44.1875L21.0938 47.5938L32 36.5L43 47.5938L46.3125 44.1875L35.4062 33.0938L46.3125 22.0938L43 18.5938L32 29.6875L21.0938 18.5938Z" fill="var(--d-333333)" fill-rule="nonzero" opacity="1" stroke="none" />
        </svg>
      </div>
    </li>
  </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
  var getUrlString = location.href;
  var url = new URL(getUrlString);
  function urlparams(p) {
    return url.searchParams.get(p)
  }
  (function ($) {
    $.fn.prompt = function (options) {
      var settings = $.extend(
        {
          message: "undefined",
          time: 2000,
        },
        options
      );

      return this.each(function () {
        $('.prompt,style[promptanimation="promptanimation"]').remove();
        var promptchars = "0123456789abcdefghijklmnopqrstuvwxyz";
        var promptid = "";
        for (var i = 0; i < 10; i++) {
          var randomNumber = Math.floor(Math.random() * promptchars.length);
          promptid += promptchars.substring(randomNumber, randomNumber + 1);
        }
        var translateY = -1 * (20)
        var at = 375
        $(this).append('<style qix="promptanimation' + promptid + '" promptanimation="promptanimation">.promptanimation' + promptid + '{animation-name:prompt' + promptid + ';animation-duration:' + (settings.time + at * 2) + 'ms;animation-fill-mode:forwards;animation-timing-function:ease-in-out}@keyframes prompt' + promptid + '{0%{opacity:0;transform:translateX(-50%) translateY(' + 60 + 'px) scale(1);}' + Math.floor((at) / (settings.time + at + 150) * 100) + '%{opacity:1;transform:translateX(-50%) translateY(' + translateY + 'px) scale(1);}' + Math.floor((at + settings.time) / (settings.time + at + 150) * 100) + '%{opacity:1;transform:translateX(-50%) translateY(' + translateY + 'px) scale(1);}100%{opacity:0;transform:translateX(-50%) translateY(' + 60 + 'px) scale(1);}}</style><div class="prompt promptanimation' + promptid + '" id="' + promptid + '"><span class="promptcenter">' + settings.message + "</span></div>");

        setTimeout(function () {
          $("#" + promptid + ',style[qix="promptanimation' + promptid + '"]').remove();
        }, settings.time + 400 * 2 + 50);
      });
    };
  })(jQuery);
  function mes(mess) {
    $('body').prompt({ 'message': mess, 'time': 1200 });
  }
  function randid(n) {
    var genidchars = "0123456789abcdefghijklmnopqrstuvwxyz";
    var genid = "";
    for (var i = 0; i < 16; i++) {
      var genrandomNumber = Math.floor(Math.random() * genidchars.length);
      genid += genidchars.substring(genrandomNumber, genrandomNumber + 1);
    }
    if (!(n === undefined)) {
      n = n.replaceAll('_', '-')
      return n + '-' + (new Date().getTime()).toString(36) + '-' + genid;
    }
    return (new Date().getTime()).toString(36) + '-' + genid;
  }
  function rclick(select) {
    $(select).click(function (e) {
      e.stopPropagation()
      if ($(this).attr('r-click') != '') {
        eval('setTimeout(function() {' + $(this).attr('r-click') + '},' + 1 + ');');
      }
    });
  }
  function searchItemsbyname(name) {
    var gh = []
    for (var t in window.localStorage) {
      if (String(t).indexOf(name) > -1) {
        gh.push(t)
      }
    }
    return gh
  }
  function sort_arr(arr, sort_key) {
    arr.sort(function (a, b) {
      return a[sort_key] - b[sort_key]
    });
    return arr
  }
  function countdown_auto_delete_finish_check() {
    var options_name = 'countdown_options_s_auto_delete_finish_countdown'
    if (!(localStorage.hasOwnProperty(options_name))) {
      return ''
    }
    else {
      if (!(String(localStorage.getItem(options_name)) === 'true')) {
        return ''
      }
    }

    var list_all = searchItemsbyname('countdown_x_')
    var list_all_len = list_all.length
    var nowtime = new Date().getTime()
    for (var o = 0; o < list_all_len; o++) {
      var this_list = JSON.parse(String(localStorage.getItem(list_all[o])))
      if (this_list.hasOwnProperty('trash')) {
        if (this_list.trash) {
          continue;
        }
        else {
          if ((this_list.date - nowtime) < 0) {
            this_list['trash'] = true
            this_list['trash_date'] = nowtime
            localStorage.setItem(String(list_all[o]), JSON.stringify(this_list))
          }
        }
      }
    }
  }
  function countdown_trash_check() {
    var list_all = searchItemsbyname('countdown_x_')
    var list_all_len = list_all.length
    var nowtime = new Date().getTime()
    for (var o = 0; o < list_all_len; o++) {
      if (!(localStorage.hasOwnProperty(String(list_all[o])))) {
        continue;
      }
      var this_json = JSON.parse(localStorage.getItem(String(list_all[o])))
      if (this_json.hasOwnProperty('trash')) {
        if (this_json['trash']) {
          if (!(this_json.hasOwnProperty('trash_date'))) {
            this_json['trash_date'] = nowtime
            localStorage.setItem(String(list_all[o]), JSON.stringify(this_json))
          }
          if ((nowtime - this_json['trash_date']) > 60 * 60 * 24 * 30 * 1000) {
            localStorage.removeItem(String(list_all[o]))
          }
        }
      }
      else {
        this_json['trash'] = false
        localStorage.setItem(String(list_all[o]), JSON.stringify(this_json))
      }
    }
  }
  function print_countdown(k) {
    var content_box = '.content_box'
    var now_time = new Date().getTime()
    var list_all = searchItemsbyname('countdown_x_')
    var list_unfinished = []
    var list_finished = []
    var list_trash = []
    var list_all_len = list_all.length
    var title_max_len = Math.floor((window.innerWidth - 20 - 110 - 6) / getTextAvgWidth())
    if (list_all_len < 1) {
      $(content_box + ' .loading').remove()
      return ''
    }

    for (var d = 0; d < list_all_len; d++) {
      var this_json = JSON.parse(localStorage.getItem(String(list_all[d])))
      list_all[d] = this_json
      if (this_json.hasOwnProperty('trash')) {
        if (this_json['trash'] && k === 0) {
          continue;
        }
        else {
          if (this_json['trash'] && k === 1) {
            list_trash.push(this_json)
          }
        }
      }
      if (this_json.date > now_time) {
        list_unfinished.push(this_json)
      }
      else {
        list_finished.push(this_json)
      }
    }

    list_unfinished = sort_arr(list_unfinished, 'date')
    list_finished = sort_arr(list_finished, 'date').reverse()
    if (k === 0) {
      list = list_unfinished.concat(list_finished)
    }
    if (k === 1) {
      list = sort_arr(list_trash, 'trash_date').reverse()
    }
    list_len = list.length

    for (var e = 0; e < list_len; e++) {
      var this_list = list[e]
      var this_title = this_list.title
      if (this_title.length > title_max_len) {
        this_title = String(this_title).substring(0, title_max_len - 3) + '...'
      }
      var this_description = this_list.description
      if (this_description.length > 45) {
        this_description = String(this_description).substring(0, 42) + '...'
      }

      var this_date = this_list.date
      if (k === 1) {
        this_date = this_list.trash_date + (60 * 60 * 24 * 30 * 1000)
      }
      var this_id = randid('countdown')
      var trash = false
      if (k === 1) {
        trash = true
      }
      $(content_box).append('<div class="countdown_box" id="' + this_id + '" r-click="opencountdown(' + "'" + this_list.id + "'" + ')"><div class="countdown_box_select"><label for="checkbox-' + this_list.id + '"><input type="checkbox" countdown-id="' + this_list.id + '" name="checkbox-' + this_list.id + '" id="checkbox-' + this_list.id + '" class="checkbox"></label></div><div class="countdown_box_count" t="' + this_date + '" trash="' + trash + '"></div><div class="countdown_box_title">' + this_title + '</div><div class="countdown_box_description">' + this_description + '</div></div>')
      rclick('#' + this_id)
    }
    if (k === 0) {
      if ($(content_box + ' .recent_access_content_box').length < 1) {
        $(content_box).prepend('<div class="recent_access_content_box"></div>')
      }
      var recent_access_list = get_recent_access_list()
      var recent_access_list_len = recent_access_list.length
      if (recent_access_list_len > 0) {
        for (var b = 0; b < recent_access_list_len; b++) {
          var this_r_list = recent_access_list[b]
          var this_r_title = this_r_list.title
          var this_r_description = this_r_list.description
          var this_r_date = this_r_list.date
          var this_r_id = randid('recent-access')
          $(content_box + ' .recent_access_content_box').append('<div class="recent_access_countdown_box" id="' + this_r_id + '" r-click="opencountdown(' + "'" + this_r_list.id + "'" + ')"><div class="recent_access_countdown_box_count" t="' + this_r_date + '"></div><div class="recent_access_countdown_box_title">' + this_r_title + '</div><div class="recent_access_countdown_box_description">' + this_r_description + '</div></div>')
          rclick('#' + this_r_id)
        }
      }
    }
    $(content_box + ' .loading').remove()
  }
  function refresh_countdown() {
    $('.content_box').html('')
    print_countdown(0)
  }
  function refresh_trash_can() {
    $('.content_box').html('')
    print_countdown(1)
  }
  function opentrashcan() {
    $('.content_box').html('').attr('trash', 'true')
    $('#content_box_title_text').text('Trash Can')
    $('.search_btn,.addcountdown').css({ 'display': 'none' })
    $('.trash_back_btn').css({ 'display': 'flex' })
    $('.title .options_btn').attr('r-click', 'openoptions(2)')
    print_countdown(1)
    closeoptionscontentbox()
  }
  function closetrashcan() {
    $('.content_box').html('').attr('trash', 'false')
    $('#content_box_title_text').text('Countdown')
    $('.search_btn,.addcountdown').css({ 'display': 'flex' })
    $('.trash_back_btn').css({ 'display': 'none' })
    $('.title .options_btn').attr('r-click', 'openoptions(0)')
    print_countdown(0)
    openoptionscontentbox()
  }
  function cleartrashcan() {
    var list = searchItemsbyname('countdown_x_')
    var list_len = list.length
    for (var e = 0; e < list_len; e++) {
      var this_list = JSON.parse(String(localStorage.getItem(String(list[e]))))
      if (this_list.trash) {
        localStorage.removeItem(String(list[e]))
      }
    }
    closeoptions()
    mes('Trash Can cleared.')
    refresh_trash_can()
  }
  function revertdeleteintrash() {
    var list = searchItemsbyname('countdown_x_')
    var list_len = list.length
    for (var e = 0; e < list_len; e++) {
      var this_list = JSON.parse(String(localStorage.getItem(String(list[e]))))
      if (this_list.trash) {
        this_list.trash = false
        localStorage.setItem(String(list[e]), JSON.stringify(this_list))
      }
    }
    closeoptions()
    mes('Delete reverted.')
    refresh_trash_can()
  }
  function revertdeletecountdown(countdown_id) {
    if (localStorage.hasOwnProperty('countdown_x_' + countdown_id)) {
      var json = JSON.parse(String(localStorage.getItem('countdown_x_' + countdown_id)))
      json.trash = false
      delete json['trash_date']
      localStorage.setItem('countdown_x_' + countdown_id, JSON.stringify(json))
      mes('Delete reverted.')
      closecountdown()
      closeoptions()
      if ($('.content_box').attr('trash') === 'true') {
        refresh_trash_can()
      }
      else {
        refresh_countdown()
      }
    }
  }
  function deletecountdownforever(countdown_id) {
    if (localStorage.hasOwnProperty('countdown_x_' + countdown_id)) {
      localStorage.removeItem('countdown_x_' + countdown_id)
      mes('Countdown delete forever.')
      closecountdown()
      closeoptions()
      if ($('.content_box').attr('trash') === 'true') {
        refresh_trash_can()
      }
      else {
        refresh_countdown()
      }
    }
  }
  function check_i(i) {
    if (i < 10) {
      return '0' + i
    }
    else {
      return i
    }
  }
  function Ym(y) {
    var m_total = 0
    var m_c = 0
    for (var m = 0; m < 12; m++) {
      var f = new Date()
      f.setFullYear(y)
      f.setDate(1)
      f.setMonth(m)
      f.setDate(0)
      m_total += f.getDate()
      m_c += 1
    }
    return (m_total / m_c).toFixed(10)
  }

  var tday_ym = Ym(new Date().getFullYear())

  function tday(start, end, mode) {
    var ms = end.getTime() - start.getTime()
    if (ms < 0) {
      ms = 0
    }
    var dt2 = function (t1, t2) {
      t1 = t1.getTime()
      t2 = t2.getTime()
      var g = [60 * 60 * 24 * tday_ym * 12 * 1000, 60 * 60 * 24 * tday_ym * 1000, 60 * 60 * 24 * 1000, 60 * 60 * 1000, 60 * 1000, 1000]
      var gg = function (j) {
        return Math.floor(g[j])
      }
      var fl = function (a, b) {
        return Math.abs(Math.floor(a / gg(b)))
      }
      var f = Math.abs(t1 - t2)
      var y = (f - (f % gg(0)))
      var m = ((f - y) - ((f - y) % gg(1)))
      var d = ((f - y - m) - ((f - y - m) % gg(2)))
      var h = ((f - y - m - d) - ((f - y - m - d) % gg(3)))
      var mm = ((f - y - m - d - h) - ((f - y - m - d - h) % gg(4)))
      var s = ((f - y - m - d - h - mm) - ((f - y - m - d - h - mm) % gg(5)))
      return [fl(y, 0), fl(m, 1), fl(d, 2), fl(h, 3), fl(mm, 4), fl(s, 5)]
    }

    var dt = function (st_t, end_t) {
      var st = new Date()
      st.setTime(st_t.getTime())
      var end = new Date()
      end.setTime(end_t.getTime())

      st.setDate(st.getDate() + 1)
      st.setHours(0)
      st.setMinutes(0)
      st.setSeconds(0)

      end.setDate(end.getDate() - 0)
      end.setHours(0)
      end.setMinutes(0)
      end.setSeconds(0)

      var st_hh = 23 - st_t.getHours()
      var st_mm = 59 - st_t.getMinutes()
      var st_ss = 60 - st_t.getSeconds()
      var st_y = st.getFullYear()
      var end_y = end.getFullYear()
      var full_y = end_y - st_y - 1
      var st_a_m = 12 - (st.getMonth() + 1)
      var st_d_m = new Date()
      st_d_m.setFullYear(st.getFullYear())
      st_d_m.setMonth(st.getMonth() + 1)
      st_d_m.setDate(0)
      var st_a_d = st_d_m.getDate() - st.getDate()
      var end_hh = end_t.getHours()
      var end_mm = end_t.getMinutes()
      var end_ss = end_t.getSeconds()
      var end_a_m = end.getMonth()
      var end_a_d = end.getDate() - 1
      var t_m = st_a_m + end_a_m
      var t_d = st_a_d + end_a_d
      var t_hh = st_hh + end_hh
      var t_mm = st_mm + end_mm
      var t_ss = st_ss + end_ss
      if (t_ss >= 60) {
        var ssu = (t_ss - (t_ss % 60)) / 60
        t_mm += ssu
        t_ss -= ssu * 60
      }
      if (t_mm >= 60) {
        var mmu = (t_mm - (t_mm % 60)) / 60
        t_hh += mmu
        t_mm -= mmu * 60
      }
      if (t_hh >= 24) {
        var hhu = (t_hh - (t_hh % 24)) / 24
        t_d += hhu
        t_hh -= hhu * 24
      }
      if (t_d >= 30) {
        var du = (t_d - (t_d % 30)) / 30
        t_m += du
        t_d -= du * 30
      }
      if (t_m >= 12) {
        var mu = (t_m - (t_m % 12)) / 12
        full_y += mu
        t_m -= mu * 12
      }
      return [full_y, t_m, t_d, t_hh, t_mm, t_ss]
    }

    var gy = dt2(start, end)
    if (mode === 0) {
      if (gy[0] > 0) {
        return gy[0] + 'Y'
      }
      if (gy[1] > 0) {
        return gy[1] + 'M'
      }
      if (gy[2] > 0) {
        return gy[2] + 'D'
      }
      if (gy[3] > 0) {
        return gy[3] + 'h'
      }
      if (gy[4] > 0) {
        return gy[4] + 'm'
      }
      if (gy[5] > 0) {
        return gy[5] + 's'
      }
      return '--'
    }
    if (mode === 1) {
      var return_arr = []
      if (gy[0] > 0) {
        return_arr.push(gy[0] + 'year')
      }
      if (gy[1] > 0) {
        return_arr.push(gy[1] + 'month')
      }
      if (gy[2] > 0) {
        return_arr.push(gy[2] + 'day')
      }
      if (gy[3] > 0) {
        return_arr.push(gy[3] + 'hour')
      }
      if (gy[4] > 0) {
        return_arr.push(gy[4] + 'minute')
      }
      if (gy[5] > 0) {
        return_arr.push(gy[5] + 'sec')
      }
      return return_arr
    }
    if (mode === 2) {
      var padding = function (num) {
        return (num < 10 ? '0' : '') + num;
      };
      var string_arr = []
      var return_arr = []
      var g_year, g_month, g_date, g_hour, g_minute, g_second
      if (gy[0] > 0) {
        string_arr.push(gy[0])
        string_arr.push('Y')
        g_year = 1
      }

      if (gy[1] > 0) {
        string_arr.push(gy[1])
        string_arr.push('M')
        g_month = 1
      }

      if (gy[2] > 0) {
        string_arr.push(gy[2])
        string_arr.push('D')
        g_date = 1
      }

      if (gy[3] > 0) {
        string_arr.push(padding(gy[3]))
        string_arr.push('h')
        g_hour = 1
      }
      else {
        if (g_date === 1 || g_year === 1 || g_month === 1) {
          string_arr.push('00')
          string_arr.push('h')
          g_hour = 1
        }
      }
      if (gy[4] > 0) {
        string_arr.push(padding(gy[4]))
        string_arr.push('m')
        g_minute = 1
      }
      else {
        if (g_hour === 1) {
          string_arr.push('00')
          string_arr.push('m')
          g_minute = 1
        }
      }

      if (gy[5] > 0) {
        string_arr.push(padding(gy[5]))
        string_arr.push('s')
        g_second = 1
      }
      else {
        if (g_minute === 1) {
          string_arr.push('00')
          string_arr.push('s')
          g_second = 1
        }
      }

      var string_len = String(string_arr.join('')).length
      var count_len = $('.countdown_content_box_count .count').length
      if (count_len > string_len) {
        var delete_len = count_len - string_len
        var delete_offset = 0
        for (var r = 0; r < delete_len; r++) {
          $('.countdown_content_box_count .count').eq(r - delete_offset).remove()
          delete_offset += 1
        }
      }
      if (count_len < string_len) {
        var add_len = string_len - count_len
        for (var r = 0; r < add_len; r++) {
          $('.countdown_content_box_count').append('<div class="count" style="--count-number:0"><div class="count_track"><span>0</span><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span><span>Y</span><span>M</span><span>D</span><span>h</span><span>m</span><span>s</span></div></div>')
        }
      }
      var string_arr_str = string_arr.join('')
      for (var r = 0; r < string_len; r++) {
        var this_str = string_arr_str.substring(r, r + 1)
        var num = 0
        if (this_str === 'Y' || this_str === 'M' || this_str === 'D' || this_str === 'h' || this_str === 'm' || this_str === 's') {
          if (this_str === 'Y') {
            num = 10
          }
          if (this_str === 'M') {
            num = 11
          }
          if (this_str === 'D') {
            num = 12
          }
          if (this_str === 'h') {
            num = 13
          }
          if (this_str === 'm') {
            num = 14
          }
          if (this_str === 's') {
            num = 15
          }
        }
        else {
          num = parseInt(this_str)
        }
        $('.countdown_content_box_count .count').eq(r).css({ '--count-number': num })
      }
    }
  }
  var countdown_pause = 0
  function countdown_update() {
    var recent_access = $('.content_box .recent_access_content_box')
    var countdown_len = $('.content_box .countdown_box').length
    if (recent_access > 0) {
      var recent_access_len = $('.recent_access_content_box .recent_access_countdown_box').length
      for (var s = 0; s < recent_access_len; s++) {
        var this_s = $('.recent_access_countdown_box .recent_access_countdown_box_count').eq(s)
        if (!(this_s.attr('f') === '1')) {
          var time = parseInt(this_s.attr('t'))
          var time_date = new Date()
          time_date.setTime(time)
          var nowtime = new Date()
          var f = (time - nowtime.getTime())
          if (f > 0) {
            this_s.text(tday(nowtime, time_date, 0))
          }
          else {
            var finish_text = 'Finish'
            this_s.text(finish_text)
            this_s.attr('f', '1')
          }
        }
      }
    }
    for (var e = 0; e < countdown_len; e++) {
      var this_h = $('.content_box .countdown_box .countdown_box_count').eq(e)
      var thswww = this_h.offset().top - $(document).scrollTop()
      var thshh = this_h.height()
      if (thswww > (0 - thshh) && thswww < window.innerHeight && !(this_h.attr('f') === '1')) {

        var time = parseInt(this_h.attr('t'))
        var time_date = new Date()
        time_date.setTime(time)
        var nowtime = new Date()
        var f = (time - nowtime.getTime())
        if (f > 0) {
          this_h.text(tday(nowtime, time_date, 0))
        }
        else {
          var finish_text = 'Finish'
          if (this_h.attr('trash') === 'true') {
            finish_text = 'Due'
          }
          this_h.text(finish_text)
          this_h.attr('f', '1')
        }
      }
    }
    if (countdown_pause === 0) {
      window.requestAnimationFrame(countdown_update);
    }
    else {
      countdown_pause = 0
      return ''
    }
  }
  function openaddcountdown() {
    $('.add_countdown_title').css({ 'display': 'flex' })
    $('.add_countdown_content_box').css({ 'display': 'block' })
    $('#add_title').val('')
    $('#add_description').val('')
    $('#add_countdown_title_text').text('Add Countdown')
    $('#add_date_year').val('')
    $('#add_date_month').val('')
    $('#add_date_date').val('')
    $('#add_date_hour').val('')
    $('#add_date_minute').val('')
    $('#add_date_second').val('')
  }
  function closeaddcountdown() {
    $('.add_countdown_title,.add_countdown_content_box').css({ 'display': 'none' })

  }
  function check_int(str) {
    if (String(parseInt(String(str))) === 'NaN' || String(str) === '') {
      return undefined
    }
    else {
      return parseInt(String(str))
    }
  }
  function addcountdown(m) {
    if (m === 0) {
      var data_y = $('#add_date_year').val()
      var data_m = $('#add_date_month').val()
      var data_d = $('#add_date_date').val()
      var data_h = $('#add_date_hour').val()
      var data_min = $('#add_date_minute').val()
      var data_s = $('#add_date_second').val()
      var data_title = $('#add_title').val() || 'Untitled'
      var data_description = $('#add_description').val() || ''
    }
    if (m === 1) {
      if (urlparams('a') === '1') {
        var data_y = urlparams('add_y')
        var data_m = urlparams('add_m')
        var data_d = urlparams('add_d')
        var data_h = urlparams('add_h')
        var data_min = urlparams('add_min')
        var data_s = urlparams('add_s')
        var data_title = urlparams('add_title') || 'Untitled'
        var data_description = urlparams('add_desc') || ''
      }
    }
    var title = data_title
    var description = data_description
    var date = new Date()
    date.setMonth(0)
    date.setDate(1)

    var year = check_int(data_y) || date.getFullYear()
    var month = check_int(data_m) || (date.getMonth() + 1)
    var date_d = check_int(data_d) || date.getDate()
    var hour = check_int(data_h) || 0
    var minute = check_int(data_min) || 0
    var second = check_int(data_s) || 0

    date.setFullYear(year)
    date.setMonth((month - 1))
    date.setDate(date_d)
    date.setHours(hour)
    date.setMinutes(minute)
    date.setSeconds(second)

    date = date.getTime()
    var id = ''
    var id_chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'
    for (var i = 0; i < 32; i++) {
      var rdn = Math.floor(Math.random() * id_chars.length)
      var rdnstr = id_chars.substring(rdn, rdn + 1)
      id += rdnstr
    }

    var json = {
      'title': title,
      'description': description,
      'date': date,
      'trash': false,
      'id': id
    }
    localStorage.setItem('countdown_x_' + id, JSON.stringify(json))
    closeaddcountdown()
    $('#add_title').val('')
    $('#add_description').val('')
    $('#add_date_year').val('')
    $('#add_date_month').val('')
    $('#add_date_date').val('')
    $('#add_date_hour').val('')
    $('#add_date_minute').val('')
    $('#add_date_second').val('')
    mes('Countdown added')
    refresh_countdown()
    opencountdown(id)
  }
  function duplicatecountdown(countdown_id) {
    var id = ''
    var id_chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'
    for (var i = 0; i < 32; i++) {
      var rdn = Math.floor(Math.random() * id_chars.length)
      var rdnstr = id_chars.substring(rdn, rdn + 1)
      id += rdnstr
    }
    var json = JSON.parse(String(localStorage.getItem('countdown_x_' + countdown_id)))
    json.id = id
    json.title = json.title + '(Duplicate)'
    localStorage.setItem('countdown_x_' + id, JSON.stringify(json))
    mes('Countdown duplicated.')
    closeoptions()
    refresh_countdown()
    opencountdown(id)
  }
  function countdown_content_count_update() {
    if (!($('.countdown_content_box_count').attr('f') === '1')) {
      var time = parseInt($('.countdown_content_box_count').attr('t'))
      var time_date = new Date()
      time_date.setTime(time)
      var nowtime = new Date()
      var f = (time - nowtime.getTime())
      if (f > 0) {
        tday(nowtime, time_date, 2)
        if ($('.countdown_content_box_count .countdown_content_box_count_finish').length > 0) {
          $('.countdown_content_box_count .countdown_content_box_count_finish').remove()
        }
        window.requestAnimationFrame(countdown_content_count_update);
      }
      else {
        $('.countdown_content_box_count').html('<span class="countdown_content_box_count_finish">Finish</span>').attr('f', '1')
      }
    }
  }
  function get_recent_access_list() {
    var n = 'countdown_log_a'
    var log = JSON.parse(String(localStorage.getItem(n)))
    var list = searchItemsbyname('countdown_x')
    var list_len = list.length
    var countdown = []
    for (var k = 0; k < list_len; k++) {
      var j = JSON.parse(String(localStorage.getItem(list[k])))
      if (j['trash'] === true) {
        continue;
      }
      var count = 0
      if (log.hasOwnProperty('c_' + j.id)) {
        count = log['c_' + j.id]['c']
      }
      if (count <= 0) {
        continue;
      }
      j['count'] = count
      countdown.push(j)
    }
    countdown = sort_arr(countdown, 'count').reverse()
    var max_len = 5
    if (list_len <= max_len) {
      max_len = Math.floor(list_len * 0.5)
    }
    var result = countdown.slice(0, max_len);
    return result
  }
  function opencountdown_log_check() {
    var n = 'countdown_log_a'
    if (!(localStorage.hasOwnProperty(n))) {
      localStorage.setItem(n, JSON.stringify({}))
    }
    var list = searchItemsbyname('countdown_x')
    var log = JSON.parse(String(localStorage.getItem(n)))
    var log_n = JSON.parse(String(localStorage.getItem(n)))
    var list_len = list.length
    var t = new Date().getTime()
    for (var t = 0; t < list_len; t++) {
      var j = JSON.parse(String(localStorage.getItem(list[t])))
      if (localStorage.hasOwnProperty('countdown_x_' + j.id)) {
        if (typeof log['c_' + j.id] === 'number') {
          log_n['c_'] = { 'c': log['_c'], 't': t }
          log['c_' + j.id] = true
        }
        else {
          if (typeof log['c_' + j.id] === 'object') {
            if ((t - log['c_' + j.id]['t']) < 60 * 60 * 24 * 7 * 1000) {
              log['c_' + j.id] = true
            }
          }
        }
      }
    }
    for (var y in log) {
      if (!(log[y] === true)) {
        delete log_n[y]
      }
    }
    localStorage.setItem(n, JSON.stringify(log_n))
  }

  function opencountdown_log(countdown_id) {
    var n = 'countdown_log_a'
    if (!(localStorage.hasOwnProperty(n))) {
      localStorage.setItem(n, JSON.stringify({}))
    }
    var t = new Date().getTime()
    var json = JSON.parse(String(localStorage.getItem(n)))
    var key = 'c_' + countdown_id
    if (json.hasOwnProperty(key)) {
      if (typeof json[key] === 'object') {
        var this_countdown_k = json[key]
        var count = this_countdown_k.c
        json[key]['c'] = (count + 1)
        json[key]['t'] = t
      }
      else {
        if (typeof json[key] === 'number') {
          var this_countdown_k = json[key]
          var count = this_countdown_k
          json[key] = {}
          json[key]['c'] = (count + 1)
          json[key]['t'] = t
        }
      }
    }
    else {
      json[key] = { 'c': 1, 't': t }
    }
    localStorage.setItem(n, JSON.stringify(json))
  }
  function opencountdown(countdown_id) {
    if ($('.content_box').attr('edit') === '1') {
      return ''
    }
    if (localStorage.hasOwnProperty('countdown_x_' + countdown_id)) {
      history.pushState(null, null, 'https://erichsia7.github.io/countdown/?c=1&id=' + countdown_id);
      opencountdown_log(countdown_id)
      var countdown_json = JSON.parse(String(localStorage.getItem('countdown_x_' + countdown_id)))
      var date_o = new Date()
      date_o.setTime(parseInt(countdown_json.date))
      var date_str = ([date_o.getFullYear(), check_i(date_o.getMonth() + 1), check_i(date_o.getDate())]).join('/') + ' ' + ([check_i(date_o.getHours()), check_i(date_o.getMinutes()), check_i(date_o.getSeconds())]).join(':')
      $('.countdown_title').css({ 'display': 'flex' })
      $('.countdown_content_box').css({ 'display': 'block' })
      var t_title = countdown_json.title
      if (t_title.length > 15) {
        t_title = String(t_title).substring(0, 12) + '...'
      }
      $('#countdown_title_text').text(t_title)
      $('.countdown_content_box_count').attr('t', countdown_json.date).attr('f', '0')
      $('.countdown_content_box_details #countdown_content_box_details_title').text(countdown_json.title)
      $('.countdown_content_box_details #countdown_content_box_details_description').text(countdown_json.description)
      $('.countdown_content_box_details #countdown_content_box_details_date').text(date_str)
      window.requestAnimationFrame(countdown_content_count_update);
      $('.options li[y="edit2"]').attr('r-click', "editcountdown_detail('" + countdown_id + "')")
      $('.options li[y="duplicate"]').attr('r-click', "duplicatecountdown('" + countdown_id + "')")
      $('.options li[y="share"]').attr('r-click', "sharecountdown('" + countdown_id + "')")
      $('.options li[y="delete"]').attr('r-click', "deletecountdown('" + countdown_id + "')")
      $('.options li[y="shcountdownphoto"]').attr('r-click', "shareCountdownPhoto('" + countdown_id + "')")
      $('.options li[y="addtocalendar"]').attr('r-click', "addToCalendar('" + countdown_id + "')")
      $('.options li[y="revertdelete"]').attr('r-click', "revertdeletecountdown('" + countdown_id + "')")
      $('.options li[y="deleteforever"]').attr('r-click', "deletecountdownforever('" + countdown_id + "')")
      if (countdown_json.trash) {
        $('.countdown_content_box_delete_forever').css({ 'display': 'flex' })
        $('.countdown_title .options_btn').attr('r-click', 'openoptions(3)')
      }
      else {
        $('.countdown_title .options_btn').attr('r-click', 'openoptions(1)')
      }
    }
  }
  function closecountdown() {
    $('.countdown_title,.countdown_content_box').css({ 'display': 'none' })
    $('.countdown_content_box_count').attr('f', '1')
    history.pushState(null, null, 'https://erichsia7.github.io/countdown/');
  }
  function openoptions(r) {
    $('.options_mask').css({ 'display': 'block' })
    $('.options').css({ 'display': 'inline-block', '--js-options-list-count': $('.options li[group="' + r + '"]').length })
    setTimeout(function () {
      $('.options').attr('k', '1')
    }, 1)
    $('#options_css').html('.options li{display:none;}.options li[group="' + r + '"] {display:flex;}')
  }
  function closeoptions() {
    $('.options').attr('k', '0')
    $('.options_mask').css({ 'display': 'none' })
    setTimeout(function () {
      $('.options').css({ 'display': 'none' })
    }, 350)
  }
  function openoptionscontentbox() {
    $('.options_content_box_title').css({ 'display': 'flex' })
    $('.options_content_box').css({ 'display': 'block' })
    closeoptions()
  }
  function closeoptionscontentbox() {
    $('.options_content_box_title,.options_content_box').css({ 'display': 'none' })
  }
  function editcountdown() {
    $('.content_box').attr('edit', '1')
    $('.cancel_btn,.delete_btn').css({ 'display': 'flex' })
    $('.options_btn,.search_btn').css({ 'display': 'none' })
    closeoptions()
  }
  function cancelselect() {
    $('.content_box').attr('edit', '0')
    $('.cancel_btn,.delete_btn').css({ 'display': 'none' })
    $('.options_btn,.search_btn').css({ 'display': 'flex' })
    var checkbox_len = $('.content_box input[type="checkbox"].checkbox').length
    for (var g = 0; g < checkbox_len; g++) {
      $('.content_box input[type="checkbox"].checkbox').eq(g).prop('checked', false)
    }
  }
  function deleteselected() {
    var checkbox_len = $('.content_box input[type="checkbox"].checkbox').length
    var deleted_len = 0
    var nowtime = new Date().getTime()
    for (var g = 0; g < checkbox_len; g++) {
      var this_checkbox = $('.content_box input[type="checkbox"].checkbox').eq(g)
      if (this_checkbox.prop('checked')) {
        deleted_len += 1
        var this_countdown_id = this_checkbox.attr('countdown-id')
        if (localStorage.hasOwnProperty('countdown_x_' + this_countdown_id)) {
          var json = JSON.parse(String(localStorage.getItem('countdown_x_' + this_countdown_id)))
          json['trash'] = true
          json['trash_date'] = nowtime
          localStorage.setItem('countdown_x_' + this_countdown_id, JSON.stringify(json))
        }
      }
    }
    refresh_countdown()
    $('.content_box').attr('edit', '0')
    $('.cancel_btn,.delete_btn').css({ 'display': 'none' })
    $('.options_btn,.search_btn').css({ 'display': 'flex' })
    if (deleted_len > 0) {
      mes(deleted_len + ' countdown deleted.')
    }
  }

  function closeeditcountdown(countdown_id) {
    $('.edit_countdown_title,.edit_countdown_content_box').css({ 'display': 'none' })
    opencountdown(countdown_id)
  }

  function datestr(date) {
    var pad = function (num) {
      return (num < 10 ? '0' : '') + num;
    };
    return date.getFullYear() +
      '-' + pad(date.getMonth() + 1) +
      '-' + pad(date.getDate()) +
      'T' + pad(date.getHours()) +
      ':' + pad(date.getMinutes())
  }

  function editcountdown_detail(countdown_id) {
    if (localStorage.hasOwnProperty('countdown_x_' + countdown_id)) {
      closeoptions()
      $('#edit_back_btn').attr('r-click', "closeeditcountdown('" + countdown_id + "')")
      $('.edit_countdown_title').css({ 'display': 'flex' })
      $('.edit_countdown_content_box').css({ 'display': 'block' })
      $('.countdown_content_box_count').attr('f', '1')
      var countdown_json = JSON.parse(String(localStorage.getItem('countdown_x_' + countdown_id)))
      var date_o = new Date()
      date_o.setTime(parseInt(countdown_json.date))

      var year = date_o.getFullYear()
      var month = (date_o.getMonth() + 1)
      var date_d = date_o.getDate()
      var hour = date_o.getHours()
      var minute = date_o.getMinutes()
      var second = date_o.getSeconds()

      $('#edit_date_year').val(year)
      $('#edit_date_month').val(month)
      $('#edit_date_date').val(date_d)
      $('#edit_date_hour').val(hour)
      $('#edit_date_minute').val(minute)
      $('#edit_date_second').val(second)

      $('#edit_title').val(countdown_json.title)
      $('#edit_description').val(countdown_json.description)
      $('.edit_countdown_btn').attr('countdown-id', countdown_json.id)
    }
  }
  function sharecountdown(countdown_id) {
    if (localStorage.hasOwnProperty('countdown_x_' + countdown_id)) {
      closeoptions()
      var countdown_json = JSON.parse(String(localStorage.getItem('countdown_x_' + countdown_id)))
      var link = 'https://erichsia7.github.io/countdown/?s=1&j=' + btoa(encodeURIComponent(JSON.stringify(countdown_json)))
      if (navigator.share) {
        navigator.share({
          title: 'Countdown',
          url: link
        }).then(() => {
        })
          .catch(console.error);
      }
      else {
        //e
      }
    }
  }
  function deletecountdown(countdown_id) {
    if (localStorage.hasOwnProperty('countdown_x_' + countdown_id)) {
      var nowtime = new Date().getTime()
      var json = JSON.parse(String(localStorage.getItem('countdown_x_' + countdown_id)))
      json['trash'] = true
      json['trash_date'] = nowtime
      localStorage.setItem('countdown_x_' + countdown_id, JSON.stringify(json))
    }
    refresh_countdown()
    closecountdown()
    closeoptions()
    mes('Countdown deleted.')
  }
  function savecountdown() {
    var countdown_id = $('.edit_countdown_btn').attr('countdown-id')
    if (localStorage.hasOwnProperty('countdown_x_' + countdown_id)) {
      var countdown_json = JSON.parse(String(localStorage.getItem('countdown_x_' + countdown_id)))

      var date_o = new Date()

      var year = check_int($('#edit_date_year').val()) || date_o.getFullYear()
      var month = check_int($('#edit_date_month').val()) || (date_o.getMonth() + 1)
      var date_d = check_int($('#edit_date_date').val()) || date_o.getDate()
      var hour = check_int($('#edit_date_hour').val()) || 0
      var minute = check_int($('#edit_date_minute').val()) || 0
      var second = check_int($('#edit_date_second').val()) || 0

      date_o.setFullYear(year)
      date_o.setMonth((month - 1))
      date_o.setDate(date_d)
      date_o.setHours(hour)
      date_o.setMinutes(minute)
      date_o.setSeconds(second)

      countdown_json.date = date_o.getTime()
      countdown_json.title = $('#edit_title').val()
      countdown_json.description = $('#edit_description').val()
      localStorage.setItem('countdown_x_' + countdown_id, JSON.stringify(countdown_json))
      closeeditcountdown(countdown_id)
      mes('Countdown edited')
      refresh_countdown()
    }
  }
  function unicode_arr(str) {
    var str_len = str.length
    var unicode_arr = []
    for (var t = 0; t < str_len; t++) {
      var unicode = str.charCodeAt(t)
      if (!(unicode_arr.indexOf(unicode) > -1)) {
        unicode_arr.push(unicode)
      }
    }
    return unicode_arr
  }
  function create_search_index() {
    var search_index = []
    var list = searchItemsbyname('countdown_x_')
    if (list.length < 1) {
      return []
    }
    var list_len = list.length
    for (var d = 0; d < list_len; d++) {
      list[d] = JSON.parse(localStorage.getItem(String(list[d])))
    }
    list_len = list.length
    for (var e = 0; e < list_len; e++) {
      var this_list = list[e]
      var this_id = this_list.id
      var this_title = this_list.title
      var this_description = this_list.description
      var this_trash = this_list.trash
      var this_trash_date = false
      if (this_trash) {
        this_trash_date = this_list.trash_date
      }
      var this_date = new Date()
      this_date.setTime(this_list.date)
      this_date = ([this_date.getFullYear(), check_i(this_date.getMonth() + 1), check_i(this_date.getDate())]).join('/') + ' ' + ([check_i(this_date.getHours()), check_i(this_date.getMinutes()), check_i(this_date.getSeconds())]).join(':')
      var str = [this_title, this_description, this_date, String(this_title).toLowerCase(), String(this_description).toLowerCase(), String(this_title).toUpperCase(), String(this_description).toUpperCase()].join('')
      var str_unicode = unicode_arr(str)
      search_index.push({ 'id': this_id, 'title': this_title, 'description': this_description, 'date': this_date, 'unicode': str_unicode, 'date_time': this_list.date, 'trash': this_trash, 'trash_date': this_trash_date })
    }
    return search_index
  }
  function search_result(q, search_index) {
    if (!(String(q).length > 0)) {
      return []
    }
    var now_time = new Date().getTime()
    var res_1 = []
    var res_2 = []
    var q_u = unicode_arr(q)
    var q_u_len = q_u.length
    var search_index_len = search_index.length
    for (var s = 0; s < search_index_len; s++) {
      var this_s = search_index[s]
      var this_s_u = this_s.unicode
      var res_t = false
      for (var f = 0; f < q_u_len; f++) {
        if (this_s_u.indexOf(q_u[f]) > -1) {
          res_t = true
          break;
        }
      }
      if (!(res_t)) {
        continue;
      }
      var res_t2 = false
      if (res_t)
        if (String(this_s.title).toLowerCase().indexOf(q.toLowerCase()) > -1) {
          res_t2 = true
        }
        else {
          if (String(this_s.description).toLowerCase().indexOf(q.toLowerCase()) > -1) {
            res_t2 = true
          }
          else {
            if (String(this_s.date).indexOf(q.toLowerCase()) > -1) {
              res_t2 = true
            }
          }
        }
      if (res_t2) {
        if (this_s.date_time > now_time) {
          res_2.push(this_s)
        }
        else {
          res_1.push(this_s)
        }
      }
    }
    res_1 = sort_arr(res_1, 'date_time').reverse()
    res_2 = sort_arr(res_2, 'date_time')
    var res_3 = res_2.concat(res_1)
    return res_3
  }
  function print_searchresult(res) {
    var res_htm = []
    var res_len = res.length
    var res_id = randid('searchres')
    var nowtime = new Date()
    for (var e = 0; e < res_len; e++) {
      var this_res = res[e]
      var this_res_date_time = this_res.date_time
      var this_res_title = this_res.title
      var this_res_id = this_res.id
      var this_res_trash = this_res.trash
      var this_res_trash_date = this_res.trash_date
      var this_res_trash_text = ''
      if (String(this_res_title).length > 15) {
        this_res_title = String(this_res_title).substring(0, 12) + '...'
      }
      if (this_res_trash) {
        var trash_day_date = (60 * 60 * 24 * 30 * 1000) + this_res_trash_date
        this_res_date_time = trash_day_date;
      }

      res_htm.push('<li class="search_result_countdown_box" r-click="opencountdown(' + "'" + this_res_id + "'" + ')" re="' + res_id + '" trash="' + this_res_trash + '"><div class="search_result_countdown_count" t="' + this_res_date_time + '" f="0"></div><div class="search_result_countdown_title">' + this_res_title + '</div></li>')
    }
    $('.search_result').html(res_htm.join(''))
    rclick('.search_result_countdown_box[re="' + res_id + '"]')
  }
  var search_result_countdown_count_pause = 0
  function search_result_countdown_count_update() {
    var now_time = new Date()
    var len = $('.search_result .search_result_countdown_box').length
    for (var w = 0; w < len; w++) {
      var this_w = $('.search_result .search_result_countdown_box .search_result_countdown_count').eq(w)
      if (!(this_w.attr('f') === '1')) {
        var this_w_date_time = parseInt(this_w.attr('t'))
        var this_w_date_time_date = new Date()
        this_w_date_time_date.setTime(this_w_date_time)
        var f = (this_w_date_time - now_time.getTime())
        if (f > 0) {
          this_w.text(tday(now_time, this_w_date_time_date, 0))
        }
        else {
          this_w.text('F')
          this_w.attr('f', '1')
        }
      }
      else {
        continue;
      }
    }
    if (search_result_countdown_count_pause === 0) {
      window.requestAnimationFrame(search_result_countdown_count_update)
    }
  }
  var search_input_evt = 0
  var serach_page = 0
  var search_index_cache = []
  function opensearchpage() {
    if ($('.search_btn').attr('u') === '1') {
      return ''
    }
    serach_page = 1
    $('.search_btn').attr('u', '1')
    $('.search_countdown_content_box').css({ 'display': 'block' })
    var qu = $('#search_countdown').val()
    search_index_cache = create_search_index()
    var result = search_result(qu, search_index_cache)
    print_searchresult(result)
    search_result_countdown_count_pause = 0
    search_result_countdown_count_update()
    if (search_input_evt === 0) {
      document.querySelector('#search_countdown').addEventListener("paste", function (e) {
        update_search_result()
      });
      document.querySelector('#search_countdown').addEventListener("cut", function (e) {
        update_search_result()
      });
      document.querySelector('#search_countdown').addEventListener("selectionchange", function (e) {
        update_search_result()
      });
      document.addEventListener("selectionchange", function (e) {
        if (serach_page === 1) {
          update_search_result()
        }
      });
      document.querySelector('#search_countdown').addEventListener("keyup", function (e) {
        update_search_result()
      });
      search_input_evt = 1
    }
  }
  function update_search_result() {
    var qu = $('#search_countdown').val()
    var result = search_result(qu, search_index_cache)
    print_searchresult(result)
  }
  function closesearchpage() {
    $('.search_countdown_content_box').css({ 'display': 'none' })
    $('.search_btn').attr('u', '0')
    search_result_countdown_count_pause = 1
    serach_page = 0
  }

  function getTextWidth(text, font) {
    const canvas = getTextWidth.canvas || (getTextWidth.canvas = document.createElement("canvas"));
    const context = canvas.getContext("2d");
    context.font = font;
    const metrics = context.measureText(text);
    return metrics.width;
  }

  function getTextAvgWidth() {
    var list = searchItemsbyname('countdown_x_')
    var list_len = list.length
    var list_str = []
    var unicode_arr = []
    for (var t = 0; t < list_len; t++) {
      if (localStorage.hasOwnProperty(list[t])) {
        var this_json = JSON.parse(String(localStorage.getItem(list[t])))
        var description = this_json.description
        var title = this_json.title
        var str = [description, title].join('')
        var str_arr = str.split('')
        var str_arr_len = str_arr.length
        for (var p = 0; p < str_arr_len; p++) {
          var this_str = str_arr[p]
          var this_u = this_str.charCodeAt(0)
          if (!(unicode_arr.indexOf(this_u) > -1)) {
            list_str.push(this_str)
            unicode_arr.push(this_u)
          }
        }
      }
    }
    var w = 500
    var s = 16
    return getTextWidth(list_str.join(''), w + " " + s + "px 'Noto Sans', sans-serif") / list_str.length
  }
  function drawCountdownPhoto(bg, txt, w, h, title, date, canvas) {
    var ctx = canvas.getContext('2d')
    var font = function (w, s) {
      return w + " " + s + "px 'Noto Sans', sans-serif"
    }
    var count_font_size = 128
    var title_font_size = 75
    var date_font_size = 38
    var link_font_size = 30
    var count_font_weight = 700
    var title_font_weight = 500
    var date_font_weight = 400
    var link_font_weight = 300
    var link = 'erichsia7.github.io/countdown'
    var count = '--'
    var padding = function (i) {
      if (i < 10) {
        return '0' + i
      }
      else {
        return i
      }
    }
    var t_check = function (t) {
      if (t < 1) {
        return true
      }
      if (t < 10) {
        return '0' + t
      }
      else {
        return t
      }
    }
    var tt_check = function (h, m) {
      if (h === true && m === true) {
        return ''
      }
      else {
        if (h === true) {
          h = '00'
        }
        if (m === true) {
          m = '00'
        }
        return ' ' + [h, m].join(':')
      }
    }
    var date_o = new Date()
    date_o.setTime(date)
    var date_str = [padding(date_o.getFullYear()), padding(date_o.getMonth() + 1), padding(date_o.getDate())].join('/') + tt_check(t_check(date_o.getHours()), t_check(date_o.getMinutes()))
    var now_time = new Date()
    var f_time = (date - now_time.getTime())
    if (f_time > 0) {
      count = tday(now_time, date_o, 0)
    }
    else {
      count = 'Finish'
    }

    var count_area_x = 0;
    var count_area_y = 0;
    var count_area_w = w;
    var count_area_h = h * 0.82;
    var count_w = getTextWidth(count, font(count_font_weight, count_font_size))
    var count_h = count_font_size
    var count_x = count_area_x + (count_area_w - count_w) / 2
    var count_y = count_area_y + (count_area_h - count_h) / 2

    var title_area_x = 0;
    var title_area_y = h * 0.42;
    var title_area_w = w;
    var title_area_h = h * 0.58;
    var title_w = getTextWidth(title, font(title_font_weight, title_font_size))
    var title_h = title_font_size
    var title_x = title_area_x + (title_area_w - title_w) / 2
    var title_y = title_area_y + (title_area_h - title_h) / 2

    var date_area_x = 0;
    var date_area_y = h * 0.58;
    var date_area_w = w;
    var date_area_h = h * 0.42;
    var date_w = getTextWidth(date_str, font(date_font_weight, date_font_size))
    var date_h = date_font_size
    var date_x = date_area_x + (date_area_w - date_w) / 2
    var date_y = date_area_y + (date_area_h - date_h) / 2

    var link_area_x = 0;
    var link_area_y = h * 0.85;
    var link_area_w = w;
    var link_area_h = h * 0.15;
    var link_w = getTextWidth(link, font(link_font_weight, link_font_size))
    var link_h = link_font_size
    var link_x = link_area_x + (link_area_w - link_w) / 2
    var link_y = link_area_y + (link_area_h - link_h) / 2

    canvas.width = w
    canvas.height = h
    ctx.fillStyle = bg
    ctx.fillRect(0, 0, w, h);
    ctx.textBaseline = 'top'
    ctx.fillStyle = txt;
    ctx.font = font(count_font_weight, count_font_size);
    ctx.fillText(count, count_x, count_y);
    ctx.font = font(title_font_weight, title_font_size);
    ctx.fillText(title, title_x, title_y);
    ctx.font = font(date_font_weight, date_font_size);
    ctx.fillText(date_str, date_x, date_y);
    ctx.font = font(link_font_weight, link_font_size);
    ctx.fillText(link, link_x, link_y);
  }
  function blobCallback(name) {
    return (b) => {
      const image = new File([b], name + '.png', { type: b.type })
      if (navigator.canShare && navigator.canShare({ files: [image] })) {
        navigator.share({
          files: [image]
        })
      }
      else {
        const a = document.createElement('a');
        document.body.appendChild(a);
        a.download = `${name}.png`;
        a.href = window.URL.createObjectURL(b);
        a.click()
        a.remove()
      }
    }
  }

  function getCountdownPhoto(countdown_id) {
    if (localStorage.hasOwnProperty('countdown_x_' + countdown_id)) {
      var countdown_json = JSON.parse(String(localStorage.getItem('countdown_x_' + countdown_id)))
      var title = countdown_json.title
      if (title.length > 15) {
        title = String(title).substring(0, 12) + '...'
      }
      var date = parseInt(countdown_json.date)
      var canvas = document.getElementById('countdown-photo')
      var bg = getComputedStyle(document.body).getPropertyValue('--d-ffffff')
      var txt = getComputedStyle(document.body).getPropertyValue('--d-333333')
      drawCountdownPhoto(bg, txt, 1024, 1024, title, date, canvas)
      canvas.toBlob(blobCallback(randid('countdown')), 'image/png')
    }
  }

  function shareCountdownPhoto(countdown_id) {
    getCountdownPhoto(countdown_id)
    closeoptions()
  }

  function getiCalendar(countdown_json) {
    var padding = function (b) {
      if (b < 10) {
        return '0' + b
      }
      else {
        return b
      }
    }
    var Date2Timestamp = function (date) {
      var timezoneoffset = new Date().getTimezoneOffset()
      date.setMinutes(date.getMinutes() + (timezoneoffset))
      var year = date.getFullYear()
      var month = padding(date.getMonth() + 1)
      var date2 = padding(date.getDate())
      var hour = padding(date.getHours())
      var minute = padding(date.getMinutes())
      var sec = padding(date.getSeconds())
      var str = [year, month, date2, 'T', hour, minute, sec, 'Z'].join('')
      return str
    }
    var now_time = Date2Timestamp(new Date())
    var start_time = new Date()
    start_time.setTime(countdown_json.date)
    start_time = Date2Timestamp(start_time)
    var end_time = new Date()
    end_time.setTime(parseInt(countdown_json.date) + 60 * 60 * 1000)
    end_time = Date2Timestamp(end_time)
    var tit = countdown_json.title
    var desc = String(countdown_json.description).replaceAll(/(?:\r\n|\r|\n)/g, '\u005C\u006E')
    var UID = countdown_json.id + '_' + randid()
    var ical_json = {
      'SUMMARY': tit,
      'DESCRIPTION': desc,
      'UID': UID,
      'CREATED': now_time,
      'LAST_MODIFIED': now_time,
      'DTSTAMP': start_time,
      'DTSTART': start_time,
      'DTEND': end_time,
      'SEQUENCE_s': 0
    }

    var ical_text = 'BEGIN:VCALENDAR\nVERSION:2.0\nBEGIN:VEVENT\nSUMMARY:' + ical_json.SUMMARY + '\nDESCRIPTION:' + ical_json.DESCRIPTION + '\nUID:' + ical_json.UID + '\nCREATED:' + ical_json.CREATED + '\nLAST-MODIFIED:' + ical_json.LAST_MODIFIED + '\nDTSTAMP:' + ical_json.DTSTAMP + '\nBEGIN:VALARM\nACTION:DISPLAY\nDESCRIPTION:Reminder\nTRIGGER:-PT60M\nEND:VALARM\nDTSTART:' + ical_json.DTSTART + '\nDTEND:' + ical_json.DTEND + '\nTRANSP:OPAQUE\nSEQUENCE:' + ical_json.SEQUENCE_s + '\nEND:VEVENT\nEND:VCALENDAR'
    return ical_text
  }
  function getiCalendarFile(countdown_id) {
    var json = JSON.parse(String(localStorage.getItem('countdown_x_' + countdown_id)))
    var txt = getiCalendar(json)
    var data = new Blob([txt], { type: 'text/calendar' });
    var uu = window.URL || window.webkitURL;
    var a = document.createElement('a');
    a.download = 'countdown' + '.ical';
    a.href = uu.createObjectURL(data);
    document.body.appendChild(a);
    a.click()
    a.remove()
  }
  function addToCalendar(countdown_id) {
    getiCalendarFile(countdown_id)
    closeoptions()
  }
  function exportCountdownData() {
    var list = searchItemsbyname('countdown_x_')
    var list_len = list.length
    var json_list = []
    for (var e = 0; e < list_len; e++) {
      if (localStorage.hasOwnProperty(list[e])) {
        var json = JSON.parse(String(localStorage.getItem(list[e])))
        json_list.push(json)
      }
    }
    return JSON.stringify(json_list)
  }
  function downloadCountdownDataFile() {
    var txt = exportCountdownData()
    var data = new Blob([txt], { type: 'application/json' })
    var name = randid('countdown_data_export')
    const filex = new File([data], name + '.json', { type: data.type })
    if (navigator.canShare && navigator.canShare({ files: [filex] })) {
      navigator.share({
        files: [filex]
      })
    }
    else {
      const a = document.createElement('a');
      document.body.appendChild(a);
      a.download = `${name}.json`;
      a.href = window.URL.createObjectURL(data);
      a.click()
      a.remove()
    }
  }

  function handleFileSelect(evt) {
    var f = evt.target.files[0];
    var reader = new FileReader();
    reader.onload = (function (theFile) {
      return function (e) {
        var tx = e.target.result;
        var json = JSON.parse(tx)
        var json_len = json.length
        for (var j = 0; j < json_len; j++) {
          var this_j = json[j]
          var this_j_str = JSON.stringify(this_j)
          var this_j_id = this_j.id
          localStorage.setItem('countdown_x_' + this_j_id, this_j_str)
        }
        mes('Data imported.')
        refresh_countdown()
        closeoptionscontentbox()
      };
    })(f);
    reader.readAsText(f);
  }

  function setoptions() {
    var options_list = $('.options_content_box .options_list[r="1"] .switch input[type="checkbox"]')
    var options_list_len = options_list.length
    for (var w = 0; w < options_list_len; w++) {
      var this_options = options_list.eq(w)
      var this_name = this_options.attr('jg')
      if (!(localStorage.hasOwnProperty('countdown_options_s_' + this_name))) {
        localStorage.setItem('countdown_options_s_' + this_name, false)
      }

      var this_status = localStorage.getItem('countdown_options_s_' + this_name)
      if (this_status === 'true') {
        this_options.prop('checked', true)
      }
    }
  }

  function saveoptions() {
    var options_list = $('.options_content_box .options_list[r="1"] .switch input[type="checkbox"]')
    var options_list_len = options_list.length
    for (var w = 0; w < options_list_len; w++) {
      var this_options = options_list.eq(w)
      var this_name = this_options.attr('jg')
      var this_status = this_options.prop('checked')
      localStorage.setItem('countdown_options_s_' + this_name, this_status)
    }
    mes('Options saved.')
  }

  function importCountdownData() {
    $('#importcountdowndatainput').click()
  }
  function refreshpage() {
    location.replace('https://erichsia7.github.io/countdown/?' + randid())
    closeoptions()
  }
  function viewongithub() {
    closeoptions()
    window.open('https://github.com/EricHsia7/countdown/')
  }
  function initialize() {
    var load_len = Math.floor(window.innerHeight / 120) + 1
    var yy = []
    var gg = []
    for (var y = 0; y < load_len; y++) {
      yy.push('<div class="countdown_box loading"><div class="countdown_box_count"></div><div class="countdown_box_title"></div><div class="countdown_box_description"></div></div>')
    }

    for (var y = 0; y < 5; y++) {
      gg.push('<div class="recent_access_countdown_box loading"><div class="recent_access_countdown_box_count"></div><div class="recent_access_countdown_box_title"></div><div class="recent_access_countdown_box_description"></div></div>')
    }

    $('.content_box').html('<div class="recent_access_content_box">' + gg.join('') + '</div>' + yy.join(''))
    $(document).ready(function () {
      setTimeout(function () {
        setoptions()
        countdown_trash_check()
        countdown_auto_delete_finish_check()
        opencountdown_log_check()
        print_countdown(0)
        rclick('.addcountdown,.add_countdown_btn,.edit_countdown_btn,.back_btn,.options_btn,.options_mask,.options li,.cancel_btn,.delete_btn,.search_btn,.trash_back_btn,.options_content_box li.options_list[s="1"]')
        $('.options_content_box .options_list[r="1"] .switch input[type="checkbox"]').click(function () {
          saveoptions()
        })
        $('.search_btn,.options_btn,.addcountdown').attr('loading', '0')
        window.requestAnimationFrame(countdown_update);
      }, 1500)
      if (urlparams('c') === '1') {
        var countdown_id = urlparams('id')
        if (localStorage.hasOwnProperty('countdown_x_' + countdown_id)) {
          opencountdown(countdown_id)
        }
      }
      if (urlparams('s') === '1') {
        var json = JSON.parse(decodeURIComponent(atob(urlparams('j'))))
        var share_added = false
        if (!(localStorage.hasOwnProperty('countdown_x_' + json.id))) {
          localStorage.setItem('countdown_x_' + json.id, JSON.stringify(json))
          if (localStorage.hasOwnProperty('countdown_x_' + json.id)) {
            share_added = true
          }
        }
        if (localStorage.hasOwnProperty('countdown_x_' + json.id)) {
          opencountdown(json.id)
          if (share_added) {
            mes('Added 1 shared countdown.')
          }
        }
      }
      if (urlparams('a') === '1') {
        addcountdown(1)
      }
    })

    document.getElementById("importcountdowndatainput").addEventListener("change", handleFileSelect, false);

  }
  initialize()
</script>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Countdown</title>
  <meta name="description" content="Countdown">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=0" />
  <link href="https://erichsia7.github.io/countdown/pwaicon/512x512.png" sizes="512x512"
    rel="apple-touch-icon-precomposed" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="defualt" />
  <link type="image/x-icon" href="https://erichsia7.github.io/countdown/pwaicon/256x256_corner_radius.ico" rel="icon" />
  <link type="image/x-icon" href="https://erichsia7.github.io/countdown/pwaicon/256x256_corner_radius.ico"
    rel="bookmark" />
  <link type="image/x-icon" href="https://erichsia7.github.io/countdown/pwaicon/256x256_corner_radius.ico"
    rel="shortcut icon" />
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff" kji="light">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#0d0d0d" kji="dark">
  <link rel="manifest" href="https://erichsia7.github.io/countdown/manifest.json">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@200;400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --d-ffffff: #ffffff;
      --d-e3e3e3: #e3e3e3;
      --d-333333: #333333;
      --d-f4f4f4: #f4f4f4;
      --e-skeleton-screen-light-color: #f2f2f2;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --d-ffffff: #0d0d0d;
        --d-e3e3e3: #1a1a1a;
        --d-333333: #ffffff;
        --d-f4f4f4: #1f1f1f;
        --e-skeleton-screen-light-color: #262626;
      }
    }

    * {
      -webkit-appearance: none;
      outline: none;
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
      font-family: 'Noto Sans', sans-serif;
    }

    body {
      background: var(--d-ffffff)
    }

    .title,
    .countdown_title,
    .add_countdown_title,
    .edit_countdown_title {
      position: fixed;
      top: 0px;
      left: 0px;
      width: 100%;
      height: 55px;
      background: var(--d-ffffff);
      border-bottom: 1px solid var(--d-e3e3e3);
      box-sizing: border-box;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 20px;
      font-weight: 200;
      color: var(--d-333333);
      -webkit-user-select: none;
      user-select: none;
    }

    .countdown_title,
    .add_countdown_title,
    .edit_countdown_title {
      display: none;
    }

    .content_box,
    .countdown_content_box,
    .add_countdown_content_box,
    .edit_countdown_content_box {
      position: fixed;
      top: 55px;
      left: 0px;
      width: 100%;
      height: calc(100% - 55px);
      background: var(--d-ffffff);
      overflow: scroll;
      -webkit-user-select: none;
      user-select: none;
    }

    .countdown_content_box,
    .add_countdown_content_box,
    .edit_countdown_content_box {
      display: none;
    }

    .addcountdown {
      position: fixed;
      bottom: 20px;
      right: 20px;
      border-radius: 99em;
      background: var(--d-e3e3e3);
      width: 55px;
      height: 55px;
      box-shadow: 0 0 15px 2px rgba(0, 0, 0, 0.08);
      -webkit-user-select: none;
      user-select: none;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .countdown_box {
      width: 100%;
      height: 120px;
      background: var(--d-f4f4f4);
      border-bottom: 1px solid var(--d-e3e3e3);
      position: relative;
      -webkit-user-select: none;
      user-select: none;
      overflow: hidden;
    }

    .countdown_box:nth-last-child(1) {
      /*border-bottom: none;*/
      margin-bottom: 20px
    }

    .countdown_box_select {
      position: absolute;
      top: 0px;
      left: 0px;
      width: 44px;
      height: 120px;
      display: none;
      justify-content: center;
      align-items: center;
      background: var(--d-ffffff);
      box-sizing: border-box;
      font-size: 23px;
      color: var(--d-333333);
      -webkit-user-select: none;
      user-select: none;
    }

    .countdown_box_select label {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      background: rgba(0, 0, 0, 0);
    }

    .countdown_box_count {
      position: absolute;
      top: 0px;
      left: 0px;
      width: 119px;
      height: 120px;
      display: flex;
      justify-content: center;
      align-items: center;
      background: var(--d-ffffff);
      box-sizing: border-box;
      font-size: 23px;
      font-weight: 700;
      color: var(--d-333333);
      -webkit-user-select: none;
      user-select: none;
    }

    .countdown_box_title {
      position: absolute;
      top: 0px;
      left: 120px;
      width: calc(100% - 120px);
      height: 49px;
      display: flex;
      align-items: center;
      background: var(--d-ffffff);
      box-sizing: border-box;
      padding: 10px;
      color: var(--d-333333);
      -webkit-user-select: none;
      user-select: none;
      word-break: break-all;
      overflow: hidden;
      font-weight: 500;
      font-size: 16px;
    }

    .countdown_box_description {
      position: absolute;
      top: 50px;
      left: 120px;
      width: calc(100% - 120px);
      height: calc(100% - 50px);
      background: var(--d-ffffff);
      box-sizing: border-box;
      padding: 10px;
      color: var(--d-333333);
      -webkit-user-select: none;
      user-select: none;
      word-break: break-all;
      overflow: hidden;
      white-space: pre-line;
      font-weight: 400;
      font-size: 16px;
    }

    .countdown_box.loading {
      background: var(--d-ffffff);
    }

    .countdown_box.loading .countdown_box_count::after,
    .countdown_box.loading .countdown_box_title::after,
    .countdown_box.loading .countdown_box_description::after {
      content: '';
      background: linear-gradient(270deg, var(--d-e3e3e3) 0%, var(--e-skeleton-screen-light-color) 30%, var(--e-skeleton-screen-light-color) 40%, var(--d-e3e3e3) 70%, var(--d-e3e3e3) 100%);
      background-size: 200% 100%;
      background-position: 0% 0%;
      position: absolute;
      border-radius: 10px;
      animation-name: loading;
      animation-duration: 600ms;
      animation-fill-mode: forwards;
      animation-iteration-count: infinite;
      animation-timing-function: linear;
    }

    @keyframes loading {
      0% {
        background-position: 0% 0%;
      }

      100% {
        background-position: -200% 0%;
      }
    }

    .countdown_box.loading .countdown_box_count::after {
      top: 10px;
      left: 10px;
      width: calc(100% - 20px);
      height: calc(100% - 20px);
    }

    .countdown_box.loading .countdown_box_title::after {
      top: 10px;
      left: 0px;
      width: calc(100% - 10px);
      height: calc(100% - 10px);
    }

    .countdown_box.loading .countdown_box_description::after {
      top: 10px;
      left: 0px;
      width: calc(100% - 10px);
      height: calc(100% - 20px);

    }

    .content_box[edit="1"] .countdown_box .countdown_box_count,
    .content_box[edit="1"] .countdown_box .countdown_box_title,
    .content_box[edit="1"] .countdown_box .countdown_box_description {
      transform: translateX(45px);
      opacity: 0.6;
    }

    .content_box[edit="1"] .countdown_box_select {
      display: flex;
    }

    .add_countdown_content_box input[type="text"],
    .add_countdown_content_box textarea,
    .edit_countdown_content_box input[type="text"],
    .edit_countdown_content_box textarea {
      width: calc(100% - 20px);
      height: 45px;
      border: 1px solid var(--d-e3e3e3);
      border-radius: 10px;
      background: transparent;
      -webkit-appearance: none;
      color: var(--d-333333);
      font-size: 15px;
      margin-top: 10px;
      box-sizing: border-box;
      padding: 5px;
      position: relative;
      left: 50%;
      transform: translateX(-50%);
      background: transparent;
      color: var(--d-333333);
    }

    .add_countdown_content_box input[type="datetime-local"],
    .edit_countdown_content_box input[type="datetime-local"] {
      -webkit-appearance: none;
      width: calc(100% - 20px);
      height: 45px;
      padding: 5px;
      box-sizing: border-box;
      margin-top: 10px;
      font-size: 15px;
      border-radius: 10px;
      border: 1px solid var(--d-e3e3e3);
      background: transparent;
      position: relative;
      left: 50%;
      transform: translateX(-50%);
      color: var(--d-333333)
    }

    .add_countdown_content_box textarea,
    .edit_countdown_content_box textarea {
      height: 135px;
    }

    .add_countdown_btn,
    .edit_countdown_btn {
      height: 45px;
      width: calc(100% - 20px);
      background: var(--d-e3e3e3);
      color: var(--d-333333);
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 10px;
      position: relative;
      left: 50%;
      transform: translateX(-50%);
      margin-top: 10px;
      user-select: none;
      -webkit-user-select: none;
    }


    .promptcenter {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--d-333333);
      font-size: 15px;
      font-family: "Noto Sans TC", sans-serif;
      user-select: none;
      -webkit-user-select: none;
    }

    .promptcenter * {
      color: var(--d-333333);
      font-size: 15px;
      font-family: "Noto Sans TC", sans-serif
    }

    .prompt {
      width: clamp(180px, calc(100% - 40px), 450px);
      height: 60px;
      border-radius: 15px;
      position: fixed;
      left: 50%;
      bottom: 0px;
      opacity: 0;
      transform: translateX(-50%) translateY(0px) scale(0.75);
      background: var(--d-e3e3e3);
      box-shadow: 0 0 15px 2px rgba(0, 0, 0, 0.08);
      will-change: transform, opacity;
      -webkit-user-select: none;
      user-select: none;
    }

    .back_btn,
    .options_btn,
    .delete_btn,
    .cancel_btn {
      width: 35px;
      height: 35px;
      position: absolute;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      user-select: none;
      -webkit-user-select: none;
    }

    .back_btn {
      top: 10px;
      left: 10px;
    }

    .options_btn {
      top: 10px;
      right: 10px;
    }

    .cancel_btn {
      top: 10px;
      right: 10px;
      display: none;
    }

    .delete_btn {
      top: 10px;
      right: 55px;
      display: none;
    }

    .addcountdown svg,
    .back_btn svg,
    .options_btn svg,
    .delete_btn svg,
    .cancel_btn svg {
      width: 20px;
      height: 20px
    }

    .countdown_content_box_count {
      width: calc(100% - 20px);
      height: 250px;
      position: absolute;
      top: 10px;
      left: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: row;
      color: var(--d-333333);
      user-select: none;
      -webkit-user-select: none;
    }

    /*
    .countdown_content_box_count span {
      font-size: 20px;
      padding: 5px;
    }*/

    .countdown_content_box_line {
      width: calc(100% - 20px);
      height: 1px;
      background: var(--d-e3e3e3);
      position: absolute;
      top: calc(10px + 250px + 5px);
      left: 10px;
      user-select: none;
      -webkit-user-select: none;
    }

    .countdown_content_box_details {
      width: calc(100% - 20px);
      height: auto;
      display: inline-block;
      position: absolute;
      top: calc(10px + 250px + 5px + 1px + 5px);
      left: 10px;
      color: var(--d-333333);
      user-select: none;
      -webkit-user-select: none;
    }

    .countdown_content_box_details .h3,
    .countdown_content_box_details .p {
      display: inline-block;
      margin: 5px;
      padding: 0px;
      color: var(--d-333333);
      word-break: break-all;
      white-space: pre-line;
      user-select: none;
      -webkit-user-select: none;
      width: 100%;
      box-sizing: border-box;
    }

    .countdown_content_box_details .h3 {
      font-size: 18px;
      font-weight: 700;
    }

    .countdown_content_box_details .p {
      font-size: 16px;
      font-weight: 400;
    }

    .options_mask {
      position: fixed;
      top: 0px;
      left: 0px;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      user-select: none;
      -webkit-user-select: none;
    }

    .options {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: clamp(200px, 90%, 450px);
      height: auto;
      min-height: 45px;
      display: none;
      background: var(--d-ffffff);
      border-radius: 10px;
      overflow: scroll;
      -webkit-mask-image: -webkit-radial-gradient(white, black);
      mask-image: -webkit-radial-gradient(white, black);
      max-height: 450px;
      user-select: none;
      -webkit-user-select: none;
    }

    .options li {
      width: 100%;
      padding-left: 10px;
      height: 45px;
      border-top: 1px solid var(--d-e3e3e3);
      box-sizing: border-box;
      color: var(--d-333333);
      font-size: 16px;
      display: flex;
      align-items: center;
      user-select: none;
      -webkit-user-select: none;
    }

    .options li[b="0"] {
      border: none;
    }

    input[type="checkbox"] {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 25%;
      margin: 0px;
      padding: 0px;
      outline: none;
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
      background: transparent;
      position: relative;
      border: 2px solid var(--d-333333);
      box-sizing: border-box;
      user-select: none;
      -webkit-user-select: none;
    }

    input[type="checkbox"]:checked {
      background: var(--d-333333);
    }

    input[type="checkbox"]::after {
      content: '';
      position: absolute;
      top: 3px;
      left: 3px;
      width: 10px;
      height: 10px;
      background: var(--d-333333);
      clip-path: path('M3.33333 8.66667L2.66667 8L0 5.33333L0.666667 4.66667L3.33333 7.33333L9.33333 1.33333L10 2L4 8L3.33333 8.66667Z')
    }

    input[type="checkbox"]:checked::after {
      background: var(--d-ffffff);
    }

    .count {
      width: 35px;
      height: 55px;
      background: var(--d-e3e3e3);
      position: relative;
      overflow: hidden;
      border-radius: 10px;
      margin: 2px;
      user-select: none;
      -webkit-user-select: none;
    }

    .count_track {
      position: absolute;
      top: 0px;
      left: 0px;
      width: 100%;
      height: calc(100% * 15);
      transform: translateY(calc(var(--count-number) * -55px));
      transition: 0.5s;
      user-select: none;
      -webkit-user-select: none;
    }

    .count_track span {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      height: calc(100% / 15);
      font-size: 25px;
      color: var(--d-333333);
      user-select: none;
      -webkit-user-select: none;
    }

    @media only screen and (max-width: 600px) {
      .count {
        width: 25px;
        height: 45px;
        border-radius: 5px;
      }

      .count_track {
        transform: translateY(calc(var(--count-number) * -45px));
      }

      .count_track span {
        font-size: 15px
      }
    }
  </style>
  <style id="options_css"></style>
</head>

<body>
  <div class="title">
    Countdown
    <div class="options_btn" r-click="openoptions(0)">
      <svg stroke-miterlimit="10"
        style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1"
        viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink">
        <path
          d="M4.8 36.8C3.46667 36.8 2.33333 36.3333 1.4 35.4C0.466666 34.4667-6.35783e-07 33.3333 7.10543e-15 32C7.10543e-15 30.6667 0.466667 29.5333 1.4 28.6C2.33333 27.6667 3.46667 27.2 4.8 27.2C6.13333 27.2 7.26667 27.6667 8.2 28.6C9.13333 29.5333 9.6 30.6667 9.6 32C9.6 33.3333 9.13333 34.4667 8.2 35.4C7.26667 36.3333 6.13333 36.8 4.8 36.8ZM32 36.8C30.6667 36.8 29.5333 36.3333 28.6 35.4C27.6667 34.4667 27.2 33.3333 27.2 32C27.2 30.6667 27.6667 29.5333 28.6 28.6C29.5333 27.6667 30.6667 27.2 32 27.2C33.3333 27.2 34.4667 27.6667 35.4 28.6C36.3333 29.5333 36.8 30.6667 36.8 32C36.8 33.3333 36.3333 34.4667 35.4 35.4C34.4667 36.3333 33.3333 36.8 32 36.8ZM59.2 36.8C57.8667 36.8 56.7333 36.3333 55.8 35.4C54.8667 34.4667 54.4 33.3333 54.4 32C54.4 30.6667 54.8667 29.5333 55.8 28.6C56.7333 27.6667 57.8667 27.2 59.2 27.2C60.5333 27.2 61.6667 27.6667 62.6 28.6C63.5333 29.5333 64 30.6667 64 32C64 33.3333 63.5333 34.4667 62.6 35.4C61.6667 36.3333 60.5333 36.8 59.2 36.8Z"
          fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>
    <div class="delete_btn" r-click="deleteselected()">
      <svg stroke-miterlimit="10"
        style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1"
        viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink">
        <path
          d="M12.5333 64C11.1111 64 9.86667 63.4667 8.8 62.4C7.73333 61.3333 7.2 60.0889 7.2 58.6667L7.2 8L3.55556 8L3.55556 2.66667L20.2667 2.66667L20.2667 7.10543e-15L43.7333 7.10543e-15L43.7333 2.66667L60.4444 2.66667L60.4444 8L56.8 8L56.8 58.6667C56.8 60.0889 56.2667 61.3333 55.2 62.4C54.1333 63.4667 52.8889 64 51.4667 64L12.5333 64ZM51.4667 8L12.5333 8L12.5333 58.6667L51.4667 58.6667L51.4667 8ZM21.9556 51.0222L27.2889 51.0222L27.2889 15.5556L21.9556 15.5556L21.9556 51.0222ZM36.7111 51.0222L42.0444 51.0222L42.0444 15.5556L36.7111 15.5556L36.7111 51.0222ZM12.5333 8L12.5333 58.6667L12.5333 8Z"
          fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>
    <div class="cancel_btn" r-click="cancelselect()">
      <svg stroke-miterlimit="10"
        style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1"
        viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink">
        <path
          d="M4.92308 64L1.67679e-06 59.0769L27.0769 32L2.79465e-06 4.92308L4.92308 1.11786e-06L32 27.0769L59.0769 7.10543e-15L64 4.92308L36.9231 32L64 59.0769L59.0769 64L32 36.9231L4.92308 64Z"
          fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>

  </div>
  <div class="content_box"></div>
  <div class="addcountdown" r-click="openaddcountdown()">
    <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;"
      version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink">
      <path
        d="M28.5714 64L28.5714 35.4286L0 35.4286L0 28.5714L28.5714 28.5714L28.5714 0L35.4286 0L35.4286 28.5714L64 28.5714L64 35.4286L35.4286 35.4286L35.4286 64L28.5714 64Z"
        fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
    </svg>
  </div>
  <div class="countdown_title">
    <div class="back_btn" r-click="closecountdown()">
      <svg stroke-miterlimit="10"
        style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1"
        viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M32 64L0 32L32 0L36.2 4.2L11.4 29L64 29L64 35L11.4 35L36.2 59.8L32 64Z" fill="var(--d-333333)"
          fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>
    <span id="countdown_title_text"></span>

    <div class="options_btn" r-click="openoptions(1)">
      <svg stroke-miterlimit="10"
        style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1"
        viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink">
        <path
          d="M4.8 36.8C3.46667 36.8 2.33333 36.3333 1.4 35.4C0.466666 34.4667-6.35783e-07 33.3333 7.10543e-15 32C7.10543e-15 30.6667 0.466667 29.5333 1.4 28.6C2.33333 27.6667 3.46667 27.2 4.8 27.2C6.13333 27.2 7.26667 27.6667 8.2 28.6C9.13333 29.5333 9.6 30.6667 9.6 32C9.6 33.3333 9.13333 34.4667 8.2 35.4C7.26667 36.3333 6.13333 36.8 4.8 36.8ZM32 36.8C30.6667 36.8 29.5333 36.3333 28.6 35.4C27.6667 34.4667 27.2 33.3333 27.2 32C27.2 30.6667 27.6667 29.5333 28.6 28.6C29.5333 27.6667 30.6667 27.2 32 27.2C33.3333 27.2 34.4667 27.6667 35.4 28.6C36.3333 29.5333 36.8 30.6667 36.8 32C36.8 33.3333 36.3333 34.4667 35.4 35.4C34.4667 36.3333 33.3333 36.8 32 36.8ZM59.2 36.8C57.8667 36.8 56.7333 36.3333 55.8 35.4C54.8667 34.4667 54.4 33.3333 54.4 32C54.4 30.6667 54.8667 29.5333 55.8 28.6C56.7333 27.6667 57.8667 27.2 59.2 27.2C60.5333 27.2 61.6667 27.6667 62.6 28.6C63.5333 29.5333 64 30.6667 64 32C64 33.3333 63.5333 34.4667 62.6 35.4C61.6667 36.3333 60.5333 36.8 59.2 36.8Z"
          fill="var(--d-333333)" fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>

  </div>
  <div class="countdown_content_box">
    <div class="countdown_content_box_count"></div>
    <div class="countdown_content_box_line"></div>
    <div class="countdown_content_box_details">
      <div id="countdown_content_box_details_title" class="h3"></div>
      <div id="countdown_content_box_details_description" class="p"></div>
      <div id="countdown_content_box_details_date" class="p"></div>
    </div>

  </div>
  <div class="add_countdown_title">
    <div class="back_btn" r-click="closeaddcountdown()">
      <svg stroke-miterlimit="10"
        style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1"
        viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M32 64L0 32L32 0L36.2 4.2L11.4 29L64 29L64 35L11.4 35L36.2 59.8L32 64Z" fill="var(--d-333333)"
          fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>
    <span id="add_countdown_title_text">Add Countdown</span>
  </div>
  <div class="add_countdown_content_box">
    <input type="text" placeholder="Title" id="add_title">
    <textarea placeholder="Description" id="add_description"></textarea>
    <input type="datetime-local" id="add_date" placeholder="Date">
    <div class="add_countdown_btn" r-click="addcountdown()">Add</div>
  </div>

  <div class="edit_countdown_title">
    <div class="back_btn" r-click="closeeditcountdown()" id="edit_back_btn">
      <svg stroke-miterlimit="10"
        style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1"
        viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M32 64L0 32L32 0L36.2 4.2L11.4 29L64 29L64 35L11.4 35L36.2 59.8L32 64Z" fill="var(--d-333333)"
          fill-rule="evenodd" opacity="1" stroke="none" />
      </svg>
    </div>
    <span id="edit_countdown_title_text">Edit Countdown</span>
  </div>
  <div class="edit_countdown_content_box">
    <input type="text" placeholder="Title" id="edit_title">
    <textarea placeholder="Description" id="edit_description"></textarea>
    <input type="datetime-local" id="edit_date" placeholder="Date">
    <div class="edit_countdown_btn" r-click="savecountdown()">Save</div>
  </div>

  <div class="options_mask" r-click="closeoptions()"></div>
  <div class="options">
    <li r-click="editcountdown()" y="edit" group="0" b="0">Edit</li>
    <li r-click="refreshpage()" y="refresh" group="0">Refresh</li>
    <li r-click="viewongithub()" y="github" group="0">Github</li>
    <li r-click="editcountdown_detail()" y="edit2" group="1" b="0">Edit</li>
    <li r-click="sharecountdown()" y="share" group="1">Share</li>
  </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
  var getUrlString = location.href;
  var url = new URL(getUrlString);
  function urlparams(p) {
    return url.searchParams.get(p)
  }
  (function ($) {
    $.fn.prompt = function (options) {
      var settings = $.extend(
        {
          message: "undefined",
          time: 2000,
        },
        options
      );

      return this.each(function () {
        $('.prompt,style[promptanimation="promptanimation"]').remove();
        var promptchars = "0123456789abcdefghijklmnopqrstuvwxyz";
        var promptid = "";
        for (var i = 0; i < 10; i++) {
          var randomNumber = Math.floor(Math.random() * promptchars.length);
          promptid += promptchars.substring(randomNumber, randomNumber + 1);
        }
        var translateY = -1 * (20)
        $(this).append('<style qix="promptanimation' + promptid + '" promptanimation="promptanimation">.promptanimation' + promptid + '{animation-name:prompt' + promptid + ';animation-duration:' + (settings.time + 300 * 2) + 'ms;animation-fill-mode:forwards;animation-timing-function:ease-in-out}@keyframes prompt' + promptid + '{0%{opacity:0;transform:translateX(-50%) translateY(' + translateY + 'px) scale(0.75);}' + Math.floor((300) / (settings.time + 300 + 150) * 100) + '%{opacity:1;transform:translateX(-50%) translateY(' + translateY + 'px) scale(1);}' + Math.floor((300 + settings.time) / (settings.time + 300 + 150) * 100) + '%{opacity:1;transform:translateX(-50%) translateY(' + translateY + 'px) scale(1);}100%{opacity:0;transform:translateX(-50%) translateY(' + translateY + 'px) scale(1);}}</style><div class="prompt promptanimation' + promptid + '" id="' + promptid + '"><span class="promptcenter">' + settings.message + "</span></div>");

        setTimeout(function () {
          $("#" + promptid + ',style[qix="promptanimation' + promptid + '"]').remove();
        }, settings.time + 400 * 2 + 50);
      });
    };
  })(jQuery);
  function mes(mess) {
    $('body').prompt({ 'message': mess, 'time': 1200 });
  }
  function randid(n) {
    var genidchars = "0123456789abcdefghijklmnopqrstuvwxyz";
    var genid = "";
    for (var i = 0; i < 16; i++) {
      var genrandomNumber = Math.floor(Math.random() * genidchars.length);
      genid += genidchars.substring(genrandomNumber, genrandomNumber + 1);
    }
    if (!(n === undefined)) {
      n = n.replaceAll('_', '-')
      return n + '-' + genid + '' + new Date().getTime();
    }
    return genid + '' + new Date().getTime();
  }
  function rclick(select) {
    $(select).click(function (e) {
      e.stopPropagation()
      if ($(this).attr('r-click') != '') {
        eval('setTimeout(function() {' + $(this).attr('r-click') + '},' + 1 + ');');
      }
    });
  }
  function searchItemsbyname(name) {
    var gh = []
    for (var t in window.localStorage) {
      if (String(t).indexOf(name) > -1) {
        gh.push(t)
      }
    }
    return gh
  }
  function print_countdown() {
    var list = searchItemsbyname('countdown_x_')
    if (list.length < 1) {
      $('.content_box .loading').remove()
      return ''
    }
    var list_len = list.length
    for (var d = 0; d < list_len; d++) {
      list[d] = JSON.parse(localStorage.getItem(String(list[d])))
    }
    list_len = list.length
    for (var e = 0; e < list_len; e++) {
      var this_list = list[e]
      var this_title = this_list.title
      if (this_title.length > 15) {
        this_title = String(this_title).substring(0, 12) + '...'
      }
      var this_description = this_list.description
      if (this_description.length > 45) {
        this_description = String(this_description).substring(0, 42) + '...'
      }

      var this_id = randid('countdown')
      $('.content_box').append('<div class="countdown_box" id="' + this_id + '" r-click="opencountdown(' + "'" + this_list.id + "'" + ')"><div class="countdown_box_select"><label for="checkbox-' + this_list.id + '"><input type="checkbox" countdown-id="' + this_list.id + '" name="checkbox-' + this_list.id + '" id="checkbox-' + this_list.id + '"></label></div><div class="countdown_box_count" t="' + this_list.date + '"></div><div class="countdown_box_title">' + this_title + '</div><div class="countdown_box_description">' + this_description + '</div></div>')
      rclick('#' + this_id)
    }
    $('.content_box .loading').remove()
  }
  function refresh_countdown() {
    $('.content_box').html('')
    print_countdown()
  }
  function check_i(i) {
    if (i < 10) {
      return '0' + i
    }
    else {
      return i
    }
  }
  function tday(ms, mode) {
    var sec_e = ms % 1000
    var sec = (ms - sec_e) / 1000
    var minute_e = sec % 60
    var minute = (sec - minute_e) / 60
    var hour_e = minute % 60
    var hour = (minute - hour_e) / 60
    var day_e = hour % 24
    var day = (hour - day_e) / 24
    var week_e = day % 7
    var week = (day - week_e) / 7
    if (mode === 0) {
      if (week > 0) {
        return week + 'w'
      }
      if (week_e > 0) {
        return week_e + 'd'
      }
      if (day_e > 0) {
        return day_e + 'h'
      }
      if (hour_e > 0) {
        return hour_e + 'm'
      }
      if (minute_e > 0) {
        return minute_e + 's'
      }
      if (sec_e > 0) {
        return sec_e + 'ms'
      }
      return '--'
    }
    if (mode === 1) {
      var return_arr = []
      if (week > 0) {
        return_arr.push(week + 'week')
      }
      if (week_e > 0) {
        return_arr.push(week_e + 'day')
      }
      if (day_e > 0) {
        return_arr.push(day_e + 'hour')
      }
      if (hour_e > 0) {
        return_arr.push(hour_e + 'minute')
      }
      if (minute_e > 0) {
        return_arr.push(minute_e + 'sec')
      }
      if (sec_e > 0) {
        return_arr.push(sec_e + 'ms')
      }
      return return_arr
    }
    if (mode === 2) {
      var padding = function (n) {
        if (n < 10) {
          return '0' + n
        }
        else {
          return n
        }
      }
      var string_arr = []
      var return_arr = []
      var p_week, p_week_e, p_day_e, p_hour_e, p_minute_e
      if (week > 0) {
        string_arr.push(week)
        string_arr.push('w')
      }
      if (week_e > 0) {
        string_arr.push(week_e)
        string_arr.push('d')
        p_week_e = 1
      }
      if (day_e > 0) {
        string_arr.push(padding(day_e))
        string_arr.push('h')
        p_day_e = 1
      }
      else {
        if (p_week_e === 1) {
          string_arr.push('00')
          string_arr.push('h')
          p_day_e = 1
        }
      }
      if (hour_e > 0) {
        string_arr.push(padding(hour_e))
        string_arr.push('m')
        p_hour_e = 1
      }
      else {
        if (p_day_e === 1) {
          string_arr.push('00')
          string_arr.push('m')
          p_hour_e = 1
        }
      }

      if (minute_e > 0) {
        string_arr.push(padding(minute_e))
        string_arr.push('s')
        p_minute_e = 1
      }
      else {
        if (p_hour_e === 1) {
          string_arr.push('00')
          string_arr.push('s')
          p_minute_e = 1
        }
      }

      /*
      if (sec_e > 0) {
        return_arr.push(sec_e + 'ms')
        string_arr.push(sec_e)
      }
      */
      var string_len = String(string_arr.join('')).length
      var count_len = $('.countdown_content_box_count .count').length
      if (count_len > string_len) {
        var delete_len = count_len - string_len
        var delete_offset = 0
        for (var r = 0; r < delete_len; r++) {
          $('.countdown_content_box_count .count').eq(r - delete_offset).remove()
          delete_offset += 1
        }
      }
      if (count_len < string_len) {
        var add_len = string_len - count_len
        for (var r = 0; r < add_len; r++) {
          $('.countdown_content_box_count').append('<div class="count" style="--count-number:0"><div class="count_track"><span>0</span><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span><span>w</span><span>d</span><span>h</span><span>m</span><span>s</span></div></div>')
        }
      }
      var string_arr_str = string_arr.join('')
      for (var r = 0; r < string_len; r++) {
        var this_str = string_arr_str.substring(r, r + 1)
        var num = 0
        if (this_str === 'w' || this_str === 'd' || this_str === 'h' || this_str === 'm' || this_str === 's') {
          if (this_str === 'w') {
            num = 10
          }
          if (this_str === 'd') {
            num = 11
          }
          if (this_str === 'h') {
            num = 12
          }
          if (this_str === 'm') {
            num = 13
          }
          if (this_str === 's') {
            num = 14
          }
        }
        else {
          num = parseInt(this_str)
        }
        $('.countdown_content_box_count .count').eq(r).css({ '--count-number': num })
      }
    }
  }
  var countdown_pause = 0
  function countdown_update() {
    var countdown_len = $('.content_box .countdown_box').length
    for (var e = 0; e < countdown_len; e++) {
      var this_h = $('.content_box .countdown_box .countdown_box_count').eq(e)
      var thswww = this_h.offset().top - $(document).scrollTop()
      var thshh = this_h.height()
      if (thswww > (0 - thshh) && thswww < window.innerHeight && !(this_h.attr('f') === '1')) {

        var time = parseInt(this_h.attr('t'))
        var nowtime = new Date().getTime()
        var f = (time - nowtime)
        if (f > 0) {
          this_h.text(tday(f, 0))
        }
        else {
          this_h.text('Finish')
          this_h.attr('f', '1')
        }
      }
    }
    if (countdown_pause === 0) {
      window.requestAnimationFrame(countdown_update);
    }
    else {
      countdown_pause = 0
      return ''
    }
  }
  function openaddcountdown() {
    $('.add_countdown_title').css({ 'display': 'flex' })
    $('.add_countdown_content_box').css({ 'display': 'block' })
    $('#add_title').val('')
    $('#add_description').val('')
    $('#add_date').val('')
    $('#add_countdown_title_text').text('Add Countdown')

  }
  function closeaddcountdown() {
    $('.add_countdown_title,.add_countdown_content_box').css({ 'display': 'none' })

  }
  function addcountdown() {
    var title = $('#add_title').val()
    var description = $('#add_description').val()
    var date = new Date(String($('#add_date').val())).getTime()
    var id = ''
    var id_chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'
    for (var i = 0; i < 16; i++) {
      var rdn = Math.floor(Math.random() * id_chars.length)
      var rdnstr = id_chars.substring(rdn, rdn + 1)
      id += rdnstr
    }
    var json = {
      'title': title,
      'description': description,
      'date': date,
      'id': id
    }
    localStorage.setItem('countdown_x_' + id, JSON.stringify(json))
    closeaddcountdown()
    $('#add_title').val('')
    $('#add_description').val('')
    $('#add_date').val('')
    mes('Countdown added')
    refresh_countdown()
  }
  function countdown_content_count_update() {
    if (!($('.countdown_content_box_count').attr('f') === '1')) {
      var time = parseInt($('.countdown_content_box_count').attr('t'))
      var nowtime = new Date().getTime()
      var f = (time - nowtime)
      if (f > 0) {
        tday(f, 2)
        if ($('.countdown_content_box_count .countdown_content_box_count_finish').length > 0) {
          $('.countdown_content_box_count .countdown_content_box_count_finish').remove()
        }
        //$('.countdown_content_box_count').html('<span>' + (tday(f, 1)).join('</span><span>') + '</span>')
        window.requestAnimationFrame(countdown_content_count_update);
      }
      else {
        $('.countdown_content_box_count').html('<span class="countdown_content_box_count_finish">Finish</span>').attr('f', '1')
      }
    }
  }
  function opencountdown(countdown_id) {
    if ($('.content_box').attr('edit') === '1') {
      return ''
    }
    if (localStorage.hasOwnProperty('countdown_x_' + countdown_id)) {

      history.pushState(null, null, 'https://erichsia7.github.io/countdown/?c=1&id=' + countdown_id);
      var countdown_json = JSON.parse(String(localStorage.getItem('countdown_x_' + countdown_id)))
      var date_o = new Date()
      date_o.setTime(parseInt(countdown_json.date))
      var date_str = ([date_o.getFullYear(), check_i(date_o.getMonth() + 1), check_i(date_o.getDate())]).join('/') + ' ' + ([check_i(date_o.getHours()), check_i(date_o.getMinutes()), check_i(date_o.getSeconds())]).join(':')
      $('.countdown_title').css({ 'display': 'flex' })
      $('.countdown_content_box').css({ 'display': 'block' })
      var t_title = countdown_json.title
      if (t_title.length > 15) {
        t_title = String(t_title).substring(0, 12) + '...'
      }
      $('#countdown_title_text').text(t_title)
      $('.countdown_content_box_count').attr('t', countdown_json.date).attr('f', '0')
      $('.countdown_content_box_details #countdown_content_box_details_title').text(countdown_json.title)
      $('.countdown_content_box_details #countdown_content_box_details_description').text(countdown_json.description)
      $('.countdown_content_box_details #countdown_content_box_details_date').text(date_str)
      window.requestAnimationFrame(countdown_content_count_update);
      $('.options li[y="edit2"]').attr('r-click', "editcountdown_detail('" + countdown_id + "')")
      $('.options li[y="share"]').attr('r-click', "sharecountdown('" + countdown_id + "')")
    }
  }
  function closecountdown() {
    $('.countdown_title,.countdown_content_box').css({ 'display': 'none' })
    $('.countdown_content_box_count').attr('f', '1')
    history.pushState(null, null, 'https://erichsia7.github.io/countdown/');

  }
  function openoptions(r) {
    $('.options_mask').css({ 'display': 'block' })
    $('.options').css({ 'display': 'inline-block' })
    $('#options_css').html('.options li{display:none;}.options li[group="' + r + '"] {display:flex;}')
  }
  function closeoptions() {
    $('.options_mask,.options').css({ 'display': 'none' })
  }
  function editcountdown() {
    $('.content_box').attr('edit', '1')
    $('.cancel_btn,.delete_btn').css({ 'display': 'flex' })
    $('.options_btn').css({ 'display': 'none' })
    closeoptions()
  }
  function cancelselect() {
    $('.content_box').attr('edit', '0')
    $('.cancel_btn,.delete_btn').css({ 'display': 'none' })
    $('.options_btn').css({ 'display': 'flex' })
    var checkbox_len = $('.content_box input[type="checkbox"]').length
    for (var g = 0; g < checkbox_len; g++) {
      $('.content_box input[type="checkbox"]').eq(g).prop('checked', false)
    }
  }
  function deleteselected() {
    var checkbox_len = $('.content_box input[type="checkbox"]').length
    var deleted_len = 0
    for (var g = 0; g < checkbox_len; g++) {
      var this_checkbox = $('.content_box input[type="checkbox"]').eq(g)
      if (this_checkbox.prop('checked')) {
        deleted_len += 1
        if (localStorage.hasOwnProperty('countdown_x_' + this_checkbox.attr('countdown-id')))
          localStorage.removeItem('countdown_x_' + this_checkbox.attr('countdown-id'))
      }
    }
    refresh_countdown()
    $('.content_box').attr('edit', '0')
    $('.cancel_btn,.delete_btn').css({ 'display': 'none' })
    $('.options_btn').css({ 'display': 'flex' })
    if (deleted_len > 0) {
      mes(deleted_len + ' countdown deleted.')
    }
  }

  function closeeditcountdown(countdown_id) {
    $('.edit_countdown_title,.edit_countdown_content_box').css({ 'display': 'none' })
    opencountdown(countdown_id)
  }

  function datestr(date) {
    var pad = function (num) {
      return (num < 10 ? '0' : '') + num;
    };
    return date.getFullYear() +
      '-' + pad(date.getMonth() + 1) +
      '-' + pad(date.getDate()) +
      'T' + pad(date.getHours()) +
      ':' + pad(date.getMinutes())
  }

  function editcountdown_detail(countdown_id) {
    if (localStorage.hasOwnProperty('countdown_x_' + countdown_id)) {
      closeoptions()
      $('#edit_back_btn').attr('r-click', "closeeditcountdown('" + countdown_id + "')")
      $('.edit_countdown_title').css({ 'display': 'flex' })
      $('.edit_countdown_content_box').css({ 'display': 'block' })
      $('.countdown_content_box_count').attr('f', '1')
      var countdown_json = JSON.parse(String(localStorage.getItem('countdown_x_' + countdown_id)))
      var date_o = new Date()
      date_o.setTime(parseInt(countdown_json.date))
      var date_str = datestr(date_o)
      $('#edit_title').val(countdown_json.title)
      $('#edit_description').val(countdown_json.description)
      $('#edit_date').val(date_str)
      $('.edit_countdown_btn').attr('countdown-id', countdown_json.id)
    }
  }
  function sharecountdown(countdown_id) {
    if (localStorage.hasOwnProperty('countdown_x_' + countdown_id)) {
      closeoptions()
      var countdown_json = JSON.parse(String(localStorage.getItem('countdown_x_' + countdown_id)))
      var link = 'https://erichsia7.github.io/countdown/?s=1&j=' + btoa(encodeURIComponent(JSON.stringify(countdown_json)))
      if (navigator.share) {
        navigator.share({
          title: 'Countdown',
          url: link
        }).then(() => {
        })
          .catch(console.error);
      }
      else {
        //e
      }
    }
  }
  function savecountdown() {
    var countdown_id = $('.edit_countdown_btn').attr('countdown-id')
    if (localStorage.hasOwnProperty('countdown_x_' + countdown_id)) {
      var countdown_json = JSON.parse(String(localStorage.getItem('countdown_x_' + countdown_id)))
      var date_o = new Date($('#edit_date').val())
      countdown_json.date = date_o.getTime()
      countdown_json.title = $('#edit_title').val()
      countdown_json.description = $('#edit_description').val()
      localStorage.setItem('countdown_x_' + countdown_id, JSON.stringify(countdown_json))
      closeeditcountdown(countdown_id)
      mes('Countdown edited')
      refresh_countdown()
    }
  }
  function refreshpage() {
    location.replace('https://erichsia7.github.io/countdown/?' + randid())
    closeoptions()
  }
  function viewongithub() {
    closeoptions()
    window.open('https://github.com/EricHsia7/countdown/')
  }
  function initialize() {
    var load_len = Math.floor(window.innerHeight / 120) + 1
    var yy = []
    for (var y = 0; y < load_len; y++) {
      yy.push('<div class="countdown_box loading"><div class="countdown_box_count"></div><div class="countdown_box_title"></div><div class="countdown_box_description"></div></div>')
    }
    $('.content_box').html(yy.join(''))
    $(document).ready(function () {
      setTimeout(function () {
        print_countdown()
        rclick('.addcountdown,.add_countdown_btn,.edit_countdown_btn,.back_btn,.options_btn,.options_mask,.options li,.cancel_btn,.delete_btn')
        window.requestAnimationFrame(countdown_update);
      }, 1500)
      if (urlparams('c') === '1') {
        var countdown_id = urlparams('id')
        if (localStorage.hasOwnProperty('countdown_x_' + countdown_id)) {
          opencountdown(countdown_id)
        }
      }
      if (urlparams('s') === '1') {
        /*
        var id = ''
        var id_chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'
        for (var i = 0; i < 16; i++) {
          var rdn = Math.floor(Math.random() * id_chars.length)
          var rdnstr = id_chars.substring(rdn, rdn + 1)
          id += rdnstr
        }*/
        var json = JSON.parse(decodeURIComponent(atob(urlparams('j'))))
        if (!(localStorage.hasOwnProperty('countdown_x_' + json.id))) {
          localStorage.setItem('countdown_x_' + json.id, JSON.stringify(json))
          if (localStorage.hasOwnProperty('countdown_x_' + json.id)) {
            opencountdown(json.id)
            mes('Added 1 shared countdown.')
          }
        }
      }
    })
  }
  initialize()
</script>

</html>